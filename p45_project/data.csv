Id,Title,Labels,Iteration,Iteration Start,Iteration End,Type,Estimate,Current State,Created at,Accepted at,Deadline,Requested By,Description,URL,Owned By,Owned By,Owned By,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status,Task,Task Status
55475978,New publications feed needs to be optimized,"",1,"Aug 18, 2013","Aug 24, 2013",feature,2,accepted,"Aug 20, 2013","Aug 20, 2013",,Pascal Houliston,"The following request takes too long and does not complete:

http://mds.mogulview.com/retailers/publications/new.json?since=2003-08-22T00%3A00%3A00Z&per_page=50&page=183
",https://www.pivotaltracker.com/story/show/55475978,Pascal Houliston,,,"Reduced the given call to 3 seconds (acceptable for now) (Pascal Houliston - Aug 20, 2013)"
55400388,Unknown error occurs when posting page turn to the MDS API,"",1,"Aug 18, 2013","Aug 24, 2013",bug,,accepted,"Aug 19, 2013","Aug 20, 2013",,Pascal Houliston,https://sites.google.com/site/emviemwiki/website/mds-api-docs/subscriptions-checkouts/readingprogress,https://www.pivotaltracker.com/story/show/55400388,Pascal Houliston,,,"The request was missing the 'Content-Type: application/json' header, thus Rack could not process it. No changes made. (Pascal Houliston - Aug 20, 2013)"
55538542,"Missing ""format"" attribute in the publications feed","",3,"Sep 1, 2013","Sep 7, 2013",bug,,accepted,"Aug 21, 2013","Sep 3, 2013",,Pascal Houliston,"For Titles with Distributor=""PubHub"" the feed is sending ""null"" for the attribute ""format"". From what I can tell, the product record has this value populated correctly e.g.         ""File type""=""Epub""

I suspect that ""File type"" is not mapped to ""format"". All other products are ok, its just the PubHub titles which are affected.",https://www.pivotaltracker.com/story/show/55538542,Pascal Houliston,,
56263666,Fix: Can't PUBLISH some PubHub titles,"",3,"Sep 1, 2013","Sep 7, 2013",bug,,accepted,"Sep 3, 2013","Sep 4, 2013",,Eldon de Waal,e.g. 9788750041900 -> Unexpected problem encountered,https://www.pivotaltracker.com/story/show/56263666,Greg Baker,,,"looks like the Solr search server wasn't running. this was causing the issue when a publication was published and didn't have an associated image. should be working in production now.  the error it will display if an image is missing is 'Record is not complete'. Should this behavior be changed? (Greg Baker - Sep 4, 2013)","Tested on staqging, pls deploy to prod. (Eldon de Waal - Sep 4, 2013)"
56342790,ability to remove publications from subscriptions,"",3,"Sep 1, 2013","Sep 7, 2013",feature,1,accepted,"Sep 4, 2013","Sep 5, 2013",,Greg Baker,"After selecting the Option to remove, I need to be able to select the Bookclub from which to remove the selected titles from",https://www.pivotaltracker.com/story/show/56342790,Greg Baker,,,"sorry! you should be able to now select the bookclub (Greg Baker - Sep 4, 2013)"
56250894,Add ability to delete users,"",3,"Sep 1, 2013","Sep 7, 2013",feature,1,accepted,"Sep 3, 2013","Sep 5, 2013",,Eldon de Waal,Admin users and Company users,https://www.pivotaltracker.com/story/show/56250894,Greg Baker,,,"You should be able to now delete company users. Could you please let me know where I can find the admin users.  (Greg Baker - Sep 4, 2013)","Also, can these users be deleted permanently or just 'deactivated'? (Greg Baker - Sep 5, 2013)","Permanently please... (Eldon de Waal - Sep 5, 2013)","Thanks (Greg Baker - Sep 5, 2013)","Permanently... (Eldon de Waal - Sep 8, 2013)"
56611880,add download token to transactions,"",4,"Sep 8, 2013","Sep 14, 2013",feature,1,accepted,"Sep 9, 2013","Sep 9, 2013",,Greg Baker,,https://www.pivotaltracker.com/story/show/56611880,Greg Baker,,
56604988,New company not visible,"",4,"Sep 8, 2013","Sep 14, 2013",bug,,accepted,"Sep 9, 2013","Sep 10, 2013",,Eldon de Waal,"create new company; publisher -> success
go to publisher listing  ->  BUG: publisher not listed
e.g. mds@gyldendal.dk on prod
",https://www.pivotaltracker.com/story/show/56604988,Greg Baker,,,"It appears that the company needs to have at least one publication associated with it. Eldon, do you want this behavior to be changed? (Greg Baker - Sep 10, 2013)","Indeed. Please make it visible regardless of the title/s associations.

Tks (Eldon de Waal - Sep 10, 2013)","Sure thing. There are a lot of publishers without publications. Production has 352! Do you wish to deploy this fix to production? It is currently deployed to staging. (Greg Baker - Sep 10, 2013)","If we have 352 Publishers (which are companies, then we have a data 
problem).

Lets deploy this and then come back and sort it out later.

E (Eldon de Waal - Sep 10, 2013)","The fix has now been deployed to production. (Greg Baker - Sep 10, 2013)"
56254702,Subscriptions: Add device limit,"",4,"Sep 8, 2013","Sep 14, 2013",feature,3,accepted,"Sep 3, 2013","Sep 10, 2013",,Eldon de Waal,"Bookclub edit screen
Enforce download limit: All bookclub apis",https://www.pivotaltracker.com/story/show/56254702,Greg Baker,,,"This code has been deployed to staging, but is untested. To test, please set a device limit on the book club edit screen (currently all limits are set to unlimited).

When a book is checked out, it will compare the book club limit to the number
of devices registered to a user and will raise an exception if there are 
more registered devices than allowed.

I don't have the ability to test this, so please let me know if any problems 
occur. Thanks! (Greg Baker - Sep 5, 2013)"
56344112,Bookclub/Subscriptions disable subscription,"",4,"Sep 8, 2013","Sep 14, 2013",feature,2,accepted,"Sep 4, 2013","Sep 10, 2013",,Eldon de Waal,"We need a cron to run each morning at 4am and check the ""current period"" end date for each User subscription. This date is updated by Magento on success of the new period payment. If Payment has failed then Magento wont update the MDS and hence then the user subscription should be disabled. Therefore, the cron should check each and every subscription Current Period end date and if that date is earlier than today then disable the subscription",https://www.pivotaltracker.com/story/show/56344112,Greg Baker,,
56717694,change subscriber authentication url and switch to basic auth,"",4,"Sep 8, 2013","Sep 14, 2013",feature,1,accepted,"Sep 10, 2013","Sep 10, 2013",,Greg Baker,,https://www.pivotaltracker.com/story/show/56717694,Greg Baker,,
56258686,Remove all regions logic,"",4,"Sep 8, 2013","Sep 14, 2013",feature,1,accepted,"Sep 3, 2013","Sep 12, 2013",,Eldon de Waal,"-> company level
-> Publication level",https://www.pivotaltracker.com/story/show/56258686,Greg Baker,,
56691216,Unable to access FTP foldert,"",4,"Sep 8, 2013","Sep 14, 2013",bug,,accepted,"Sep 10, 2013","Sep 12, 2013",,Eldon de Waal,"Command:    USER mds@lindhardtogringhof.dk
Response:   331 User mds@lindhardtogringhof.dk OK. Password required
Command:    PASS:  lindhard772tog
Response:   530 Login authentication failed
Error:  Critical error
Error:  Could not connect to server

and also

Command:    USER mds@gyldendal.dk
Response:   331 User mds@gyldendal.dk OK. Password required
Command:    PASS gylden735dal
Response:   530 Login authentication failed
Error:  Critical error
Error:  Could not connect to server
",https://www.pivotaltracker.com/story/show/56691216,Greg Baker,,
56937172,Add BIC/BISAC delta category mappings,"",5,"Sep 15, 2013","Sep 21, 2013",feature,1,accepted,"Sep 13, 2013","Sep 16, 2013",,Eldon de Waal,As per email instrructions,https://www.pivotaltracker.com/story/show/56937172,Greg Baker,,
57306854,Clean up Publishers to Imprints,"",5,"Sep 15, 2013","Sep 21, 2013",feature,0,accepted,"Sep 19, 2013","Sep 19, 2013",,Eldon de Waal,"On /admin/ebooks
change column heading from 'Publishers' to 'Imprints'
change 'By Publisher' to 'By Imprint'
change edit form 'Publisher name' -> 'Publisher / Imprint'
add a delete option to /admin/companies",https://www.pivotaltracker.com/story/show/57306854,Greg Baker,,,"/admin/ebooks search 'By imprint' does indeed bring up a list of publications (Greg Baker - Sep 19, 2013)","deployed to staging (Greg Baker - Sep 19, 2013)"
57310036,Update Otava prices,"",5,"Sep 15, 2013","Sep 21, 2013",chore,,accepted,"Sep 19, 2013","Sep 19, 2013",,Eldon de Waal,"As discussed, prior to migrating to PPIs for the Company -> Publishers we need to run a script on a subset of products.

The subset is as follows:
Imprint = Otava
# of records on prod = 494

Action to perform:
Override current ""Price price"" such that ""Price price"" = 2 * Cost price
",https://www.pivotaltracker.com/story/show/57310036,Greg Baker,,,"completed on both staging and production (Greg Baker - Sep 19, 2013)","tks (Eldon de Waal - Sep 19, 2013)"
57466134,"""approve changes"" --> Missing files","",6,"Sep 22, 2013","Sep 28, 2013",bug,,accepted,"Sep 23, 2013","Sep 24, 2013",,Eldon de Waal,"[10:21:19] Eldon de Waal: when a publisher updates the metadta or the files associated with a title in their collection the status changes to ""Published (with changes)""
[10:21:38] Eldon de Waal: and the ""Review Changes"" option appears
[10:21:52] Eldon de Waal: When I ""Approve changes""
[10:22:25] Eldon de Waal: if a new file is replacing the existing file both files get lost on ""Approve changes""
[10:23:12] Eldon de Waal: Can you see if you can fix this and find the files that were lost for 9788251680899, 9788251657273, 9788251657082

To Edit a publication as a Publisher you can use this account to log in:

-->  publisher@mogulviewmedia.com
-->  password123",https://www.pivotaltracker.com/story/show/57466134,Greg Baker,,,"I've managed to repair the first two publications above. For 9788251657082, the publication authors and genres just need to be specified.
A fix has been deployed that should prevent this problem from happening in the future. (Greg Baker - Sep 23, 2013)","Excellent.  Tks Greg. I'll sort out the genres and authors.


Sent from Samsung Mobile (Eldon de Waal - Sep 23, 2013)"
57647614,STAGING: Add to Bookclub,"",6,"Sep 22, 2013","Sep 28, 2013",chore,,accepted,"Sep 25, 2013","Sep 26, 2013",,Eldon de Waal,"Please can you run a script against the following:

Service: Staging

Filter:
By price range(20-100) -->  0-55
By file format -->  EPUB
By language -->  SWEDISH
By drm method -->  SOCIAL
By status -->  PUBLISHED
By company --> ELIB

Action:
Add to Bookclub: ID=17",https://www.pivotaltracker.com/story/show/57647614,Greg Baker,,,"here! (Eldon de Waal - Sep 25, 2013)","1088 publications matched these criteria and have been added to the book club on staging. (Greg Baker - Sep 25, 2013)","As discussed, these criteria have also now been used to add publications to book clubs 10, 11 and 17 on production. (Greg Baker - Sep 26, 2013)"
57465084,"Random House metadata: ""No of pages"" missing","",6,"Sep 22, 2013","Sep 28, 2013",bug,,accepted,"Sep 23, 2013","Sep 27, 2013",,Eldon de Waal,"ONIX attribute name: numberofpages
e.g. 9781446419489",https://www.pivotaltracker.com/story/show/57465084,Greg Baker,,,"Turns out that all Random House publications had the incorrect number of pages. This has now been corrected in production. (Greg Baker - Sep 27, 2013)","Also fixed in staging. (Greg Baker - Sep 27, 2013)"
55400338,"Rake task to import missing ""format"" and ""pages"" attributes from the metadata on publications","",6,"Sep 22, 2013","Sep 28, 2013",feature,1,accepted,"Aug 19, 2013","Sep 27, 2013",,Greg Baker,,https://www.pivotaltracker.com/story/show/55400338,Greg Baker,,,"Hi Greg, this task relates to ELIB and PubHub imports, pls address this task together with the Import schedule task (Eldon de Waal - Sep 25, 2013)","For ELIB and Pubhub, the format attribute should be working. I've also updated it to display correctly for audio books. Unfortunately ELIB does not supply the number of pages in a publication, only Pubhub.  Strangely, they only seem to supply this information for some titles and not others. Example on the feed here: http://staging.mogulview.com/retailers/publications/all/?since=2013-09-27T10:40:47Z&page=4&per_page=10

For Random House, there was a bug that either caused the number of pages to be displayed incorrectly, or not at all. This has been fixed and new RH titles will show the correct number of pages. There is a script running on production currently that is correcting the attribute on all current RH publications. (Greg Baker - Sep 27, 2013)","Yes, ELIB is missing number of pages, and yes PubHub's data is very 
incomplete.

Re Random House, good stuff. (Eldon de Waal - Sep 27, 2013)"
56261552,Create new publications feed,"",6,"Sep 22, 2013","Sep 28, 2013",feature,3,accepted,"Sep 3, 2013","Sep 27, 2013",,Eldon de Waal,"URL: */publications/all
Params: *since, until, page, per_page
All publications with status Published and ""update date"" >= ""since"" 
All publications with status Withdrawn and ""update date"" >= ""since"" 

Include in this feed the MDS product ID
Include PPIs
Include new attribute --> ""Publication Status"" (The result should be either Publiched or Withdrawn since only these two statuses are allowed in the feed)
Remove metadata attribute
Remove Pricing stuff",https://www.pivotaltracker.com/story/show/56261552,Greg Baker,,,"added to staging, eg: http://staging.mogulview.com/retailers/publications/all/?since=2013-05-08T13:49:55Z&page=1&per_page=2

Example output below. Is this correct?

{
    ""status"": ""ok"",
    ""publications"": [
        {
            ""supply"": [
                {
                    ""recommended_retail_price"": ""5.49"",
                    ""territories"": ""AT BE BG CY CZ DE EE ES FI FR GR HU IE IT LT LU LV MT NL PL PT RO SI SK"",
                    ""currency"": ""EUR"",
                    ""cost_per_unit"": 3.558,
                    ""model"": ""Agency"",
                    ""id"": 29138
                },
                {
                    ""recommended_retail_price"": ""3.99"",
                    ""territories"": ""AX DK GB NO SE ZA"",
                    ""currency"": ""GBP"",
                    ""cost_per_unit"": 2.586,
                    ""model"": ""Agency"",
                    ""id"": 29138
                }
            ]
        }
    ]

} (Greg Baker - Sep 16, 2013)","This is a new ""publications"" feed. It will replace the two existing feeds. As such it needs to support all the existing product attribute of the current feeds, and not just the supply detail (ppi's). (Eldon de Waal - Sep 16, 2013)","Eldon, can you please give me the urls for the feeds it needs to replace? (Greg Baker - Sep 17, 2013)","http://mds.mogulview.com/retailers/publications/new/?since=20013-08-05T13:49:55Z&page=1&per_page=10
http://mds.mogulview.com/retailers/publications/updated/?since=20013-08-05T13:49:55Z&page=1&per_page=10 (Eldon de Waal - Sep 17, 2013)","Thanks! (Greg Baker - Sep 17, 2013)","PLs check the Description again, added a couple of things (Eldon de Waal - Sep 17, 2013)","My understanding was that this would be a Random House only feed. If we are replacing the existing feeds, will it now be generic? (Greg Baker - Sep 17, 2013)","well, at nowhere in the description of the task does it mention Random House only
In fact, the name of the feed is ""all""
And Indeed, the is a generic feed for all products and all the products must have their supplydetail/pricing reflected as (a) PPI/s (Eldon de Waal - Sep 17, 2013)","sure thing. just remember that we we currently only have ppi's for Random House. Can you please send me the details to create ppi's for the other products? (Greg Baker - Sep 17, 2013)","[12/09/2013 10:27:31] Eldon de Waal: ELIB and PUBHUB -> we only receive the cost price in the feed
[12/09/2013 10:27:48] Eldon de Waal: Selling price = 2* Cost price
[12/09/2013 10:27:55] Eldon de Waal: Model = Wholesale
[12/09/2013 10:27:59] Eldon de Waal: Regions = World
[12/09/2013 10:28:14] Eldon de Waal: CCY = Company default CCY
[12/09/2013 10:30:40] Eldon de Waal: MDS company type = Publisher
[12/09/2013 10:31:00] Eldon de Waal: In all cases one PPI for title
[12/09/2013 10:31:13] Eldon de Waal: CCY as per Company config
[12/09/2013 10:31:22] Eldon de Waal: Regions = WORLD
[12/09/2013 10:42:49] Eldon de Waal: */publications/all (Eldon de Waal - Sep 17, 2013)","If you recall, I wanted to create PPI's for each and every title, but you wanted to limit it to Random House. The reason for creating PPI's for every title is so that they can be included in the feed and a consistent manner across all titles in the feed. (Eldon de Waal - Sep 17, 2013)","Eldon, I have no objection to creating PPI's for each title. Can you create a new ticket for this please? (Greg Baker - Sep 17, 2013)","Eldon, does this attached example show all the attributes that you want to see? (Greg Baker - Sep 17, 2013)","pls change the ""id"" attribute name to ""mds_id""
pls change the ""country"" attribute name to ""origin_country""
pls change the ""recommended_retail_price"" attribute name to ""price""
pls change the ""cost_per_unit"" attribute name to ""cost_price""

pls remove attribute ""isbn_10""

Image info is missing:
""image"": {
                ""medium"": ""http://mds.mogulview.com/images/publication_images/29982/mediums/Jesus_kaller_p%C3%A5_deg_cover.jpg"",
                ""mini"": ""http://mds.mogulview.com/images/publication_images/29982/minis/Jesus_kaller_p%C3%A5_deg_cover.jpg"",
                ""thumb"": ""http://mds.mogulview.com/images/publication_images/29982/thumbs/Jesus_kaller_p%C3%A5_deg_cover.jpg""
            }, (Eldon de Waal - Sep 17, 2013)","I've updated the feed and deployed the changes to staging. eg.
http://staging.mogulview.com/retailers/publications/all/?since=2013-08-05T13:49:55Z&page=1&per_page=10 (Greg Baker - Sep 17, 2013)","Updated to use the new PPI table. Will run a script on monday morning to create PPI's for all publications.  (Greg Baker - Sep 20, 2013)","PPI's have been created for all publications in production and are now visible in the feed (Greg Baker - Sep 25, 2013)","For titles with Supply-> Territories -> {WORLD} the feed needs to print it as WORLD and not null (Eldon de Waal - Sep 25, 2013)","Eldon, this code appears to be working for me in production, eg. http://mds.mogulview.com/retailers/publications/all/?since=2013-08-05T13:49:55Z&page=1&per_page=10
Do you have an example of where 'null' is being shown instead of 'WORLD'? (Greg Baker - Sep 25, 2013)","""supply"": [
                {
                    ""territories"": null,
                    ""model"": ""Agency"",
                    ""currency"": ""NOK"",
                    ""price"": ""249.0"",
                    ""cost_price"": ""149.4""
                }

for product ISBN: 9788282055239 

on URL call: http://mds.mogulview.com/retailers/publications/all/?since=2013-09-25T00:49:55Z&page=1&per_page=10 (Eldon de Waal - Sep 25, 2013)","All fixed. The problem only affected 2/30K publications. How you found them I have no idea... (Greg Baker - Sep 25, 2013)","wow, time to play the lottery then ;) (Eldon de Waal - Sep 25, 2013)"
57636290,API service call: by ISBN13,"",7,"Sep 29, 2013","Oct 5, 2013",feature,1,accepted,"Sep 25, 2013","Sep 30, 2013",,Eldon de Waal,Replicate the contents of the */all feed but passing only the isbn13 as a url parameter. This should return just the single product record for the product with the given ISBN13 number,https://www.pivotaltracker.com/story/show/57636290,Greg Baker,,,"eg. http://staging.mogulview.com/retailers/publications/all/?isbn13=9788792500526 (Greg Baker - Sep 30, 2013)","Very good! pls deploy (Eldon de Waal - Sep 30, 2013)"
57635950,*/admin/ebooks Filter errors,"",7,"Sep 29, 2013","Oct 5, 2013",feature,1,accepted,"Sep 25, 2013","Sep 30, 2013",,Eldon de Waal,"Filter by price needs to use the new Cost Price attribute
Add Currency (of the PPI record) as a filter option",https://www.pivotaltracker.com/story/show/57635950,Greg Baker,,,"Completed and deployed to production and staging. Staging env is currently updating PPI records so  may not give correct results for an hour on so. (Greg Baker - Sep 30, 2013)","Should now be working in staging too. (Greg Baker - Sep 30, 2013)","Getting error page:  http://mds.mogulview.com/admin/ebooks?search%5Border%5D=by_updated_at_descending&type=Ebook&search%5Bname_or_isbn_like%5D=&search%5Bppis%5D%5Bcost_price%5D=0.00-55.00&search%5Bppis%5D%5Bcurrency%5D=SEK&search%5Bmain_content_type_like%5D=epub&search%5Blanguage_id_equals%5D=415&search%5Bdrm_method_id_equals%5D=1&search%5Bbook_club_id_equals%5D=&search%5Bpromotions_id_equals%5D=&search%5Bstatus_equals%5D=published&search%5Bcompany_id_equals%5D=53&search%5Bpublisher_id_equals%5D=&commit=Filter (Eldon de Waal - Sep 30, 2013)","If I remove the CCY filter then it works (Eldon de Waal - Sep 30, 2013)","the results sets don't add up...
I get 1774 results on this -> http://mds.mogulview.com/admin/ebooks?search%5Border%5D=by_updated_at_descending&type=Ebook&search%5Bname_or_isbn_like%5D=&search%5Bppis%5D%5Bcost_price%5D=0.00-25.00&search%5Bppis%5D%5Bcurrency%5D=&search%5Bmain_content_type_like%5D=epub&search%5Blanguage_id_equals%5D=415&search%5Bdrm_method_id_equals%5D=1&search%5Bbook_club_id_equals%5D=&search%5Bpromotions_id_equals%5D=&search%5Bstatus_equals%5D=published&search%5Bcompany_id_equals%5D=53&search%5Bpublisher_id_equals%5D=&commit=Filter

I get 1774 results with the price filer on 0-55.00
I get 822 results with the price filer on 0-25.00
I get 1004 results with the price filter on: 25.01-55.00

i.e. the results counts do not add up (Eldon de Waal - Sep 30, 2013)","Both should be fixed in staging and production now. Good finds! (Greg Baker - Sep 30, 2013)"
57308950,"*admin/ebooks ""By Imprint"" filter","",7,"Sep 29, 2013","Oct 5, 2013",feature,1,accepted,"Sep 19, 2013","Oct 2, 2013",,Eldon de Waal,"Please make this filter based on the product attribute ""Publisher/Imprint"".Current it filters on Company -> Publishers",https://www.pivotaltracker.com/story/show/57308950,Greg Baker,,,"As there are over 1000 imprints, I just added a text box that will accept any part of a name. eg. 'nov' will match 'Novellix' (Greg Baker - Sep 30, 2013)"
57889382,PubHub Audiobooks import - feedback,"",7,"Sep 29, 2013","Oct 5, 2013",feature,2,accepted,"Sep 30, 2013","Oct 2, 2013",,Eldon de Waal,"Map narrator attribute (contributor)
Map File format
Map DRM type
Map pricing to 2 dp
Map the sample URL",https://www.pivotaltracker.com/story/show/57889382,Greg Baker,,,"Deployed to staging and production. (Greg Baker - Oct 1, 2013)","Pricing is incorrect (Eldon de Waal - Oct 2, 2013)","for this title:  http://mds.mogulview.com/admin/audiobooks/43140/edit

Cot price shows as DKK63.00 but the feed shows as ""price_before_discount"":""63.96""

Therefore the source cost price needs to be saved to 2 decimal places (Eldon de Waal - Oct 2, 2013)","Also, the sample URL is not being saved... ""sample_url"":""http://samples.pubhub.dk/9788711377079.mp3"" for this title: http://mds.mogulview.com/admin/audiobooks/43140/edit (Eldon de Waal - Oct 2, 2013)","Fixed and deployed. (Greg Baker - Oct 2, 2013)"
56258882,populate ppis,"",7,"Sep 29, 2013","Oct 5, 2013",feature,5,accepted,"Sep 3, 2013","Oct 3, 2013",,Eldon de Waal,"ELIB
PUBHub
MDS Publishers
Random House
epubDirect

For non Random house titles all publication have regions = WORLD

Add PPIs to the publications feed",https://www.pivotaltracker.com/story/show/56258882,Greg Baker,,,"Pricing data for Random house only deployed to staging. (Greg Baker - Sep 11, 2013)","Random house PPI's added to publications feed (Greg Baker - Sep 11, 2013)","as discussed, PPI's removed from existing publications feed and all Random House publications now have their updated_at attribute set to today when changing ppi settings. deployed to staging. (Greg Baker - Sep 12, 2013)","Just one more thing, on the PPI record for MDS publishers (i.e. non-distributor titles), the following is required:

Model: Dropdown selector (choose Agency or Wholesale)
CCY: Pre-populated and not editable -> Value = Company default CCY
RRP: User input (validation type is price)
Cost Price: User input for Wholesale model and Calculated for Agency model
Regions: Pre-populated and not editable -> Value = WORLD (Eldon de Waal - Sep 17, 2013)","As discussed, PPI code has been rewritten to standardize the user experience. All cost prices are now calculated. Model (if applicable) and price are modifiable. PPIs are automatically created on publication import. Currently, for existing publications, PPI's are generated on the fly as the user edits the publication. I'll write a script to generate PPI's for all publications when we update the publications/all feed to use the new database model. If a publication has a cost price of zero, please check to see that the company VAT, wholesale and agency terms are populated. This code has been deployed to staging env.  (Greg Baker - Sep 20, 2013)","Thanks Greg, the *all feed is not yet is use so you can go ahead and update all the publications. Also for ELIB titles I see that they have multiple data ranges with prices for certain products e.g. http://mds.mogulview.com/admin/ebooks/11007/edit

Please ensure we apply the correct price for the current  date range. Also, pls set the Price price and Cost price to display with 2 decimals. tks (Eldon de Waal - Sep 20, 2013)","Sure thing Eldon, I'll write the script to create PPI's for all  publications.

Please remember that this code is only deployed to staging, so for the above url you can see the correct behaviour at http://staging.mogulview.com/admin/ebooks/11007/edit.

Regarding the correct price, for ELIB, PubHub and Random House publications I'm taking the initial price to create the PPI from the metadata on the publication. What you are seeing above is the retail and cost_per_unit prices stored on the publication, not in the metadata. Where is the correct location to get the prices from for the calculation to create the PPI as they can be different?

I'll also create a rake task to update PPI's if the PPI settings change.
 (Greg Baker - Sep 20, 2013)","For titles of distributors, the correct data is always the source, which is stored as the metadata attribute against the relevant product (Eldon de Waal - Sep 20, 2013)","Great, so the code is correct. PPI's, for distributors, are created from the metadata attribute. Thereafter, you may set them as you see fit. 

As requested, price price and cost price will now display with 2 decimals (on staging).  (Greg Baker - Sep 20, 2013)","The EUR PPI record for Random House is showing as CCY=GBP on theMetadata Edit form. It should show as EUR. The */all feed is correect thou (Eldon de Waal - Sep 25, 2013)","This product has no PPI records: http://mds.mogulview.com/admin/ebooks/29902  are their more perhaps? (Eldon de Waal - Sep 26, 2013)","Good find. It looks like the publication metadata is missing its SupplyDetail attributes. I checked and this problem affects 61 other publications from Random House. What do you want to do?  (Greg Baker - Sep 26, 2013)","If the metadata is sufficiently incomplete (i.e. missing required 
information/attributes) then we should not be able to Publish the title.

E (Eldon de Waal - Sep 26, 2013)","That makes sense. I'll withdraw the affected publications.
 By the way, PPI's currently won't be updated when the ppi settings change. I'll hopefully get to that tomorrow.   (Greg Baker - Sep 26, 2013)","PPI's are now being updated when ppi settings change. (Greg Baker - Oct 3, 2013)"
58241580,Restore missing RHUK images,"",8,"Oct 6, 2013","Oct 12, 2013",feature,1,accepted,"Oct 4, 2013","Oct 7, 2013",,Eldon de Waal,"Managed to restore 560 images in production by requesting the image from RH. However, many of those supplied were just an image saying 'Image coming soon'.",https://www.pivotaltracker.com/story/show/58241580,Greg Baker,,
58228122,Add 'Distributor' originator type,"",8,"Oct 6, 2013","Oct 12, 2013",feature,0,accepted,"Oct 4, 2013","Oct 7, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/58228122,Greg Baker,,
58230590,Prevent ONIX files from continually being reprocessed if any of the publications has an error,"",8,"Oct 6, 2013","Oct 12, 2013",feature,1,accepted,"Oct 4, 2013","Oct 7, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/58230590,Greg Baker,,
56255468,Standardise terminology,"",8,"Oct 6, 2013","Oct 12, 2013",feature,0,accepted,"Sep 3, 2013","Oct 7, 2013",,Eldon de Waal,"Replace references:
Bookclub-> Subscription
Checkout -> Borrow
Checkin -> Return",https://www.pivotaltracker.com/story/show/56255468,Greg Baker,,,"For Bookclub -> Subscription, how do we change a sentence like: 'No subscriptions exist for this Bookclub'? (Greg Baker - Oct 7, 2013)","What is the context of this message? (Eldon de Waal - Oct 7, 2013)","Ah, it's a mistake
http://mds.mogulview.com/admin/book_clubs/2/subscriptions
 Should have been 'No subscribers exist for this book club'.   (Greg Baker - Oct 7, 2013)","You can change it to ""No subscriptions exist for this product"" (Eldon de Waal - Oct 7, 2013)"
56937292,URGENT: Adobe content server not fulfilling,"",8,"Oct 6, 2013","Oct 12, 2013",bug,,accepted,"Sep 13, 2013","Oct 8, 2013",,Eldon de Waal,"e.g. mds.mogulview.com/orders/f8fac6a2-1bc0-11e3-bfbc-14dae9b856bb

serves up -> http://mds.mogulview.com:8080/fulfillment/URLLink.acsm?action=enterorder&ordersource=builtin&orderid=ACS4-ORDER-3026&resid=urn:uuid:&gbauthdate=Thu%2C+12+Sep+2013+15%3A40%3A07+GMT&dateval=1379000407&gblver=4&auth=44bf3a4e4cc8502fa0871e0bd81e074dffb55e8f

with error  mds ->  
This XML file does not appear to have any style information associated with it. The document tree is shown below.
<error xmlns=""http://ns.adobe.com/adept"" data=""E_URLLINK_UNKNOWN_EXCEPTION http://mds.mogulview.com:8080/fulfillment/URLLink.acsm java.lang.IllegalArgumentException:%20Invalid%20UUID%20string:%20""/>
",https://www.pivotaltracker.com/story/show/56937292,Greg Baker,,,"Have you given up on this task Greg? (Eldon de Waal - Sep 17, 2013)","I've restarted Tomcat, but it appears to have not made a difference. I'm waiting to get some help with this problem. (Greg Baker - Sep 17, 2013)","However, as discussed the problem is now that ACS is not storing the publications. MDS is serving up the download links correctly as far as I can tell.  (Greg Baker - Sep 17, 2013)","I would agree that the MDS is serving the links correctly since we are not getting a 404 on those links. And indeed we are getting an ADEPT error msg which points to the issue being with the Content Server. If it is unable to find the publication resource, is it possible that the location of the resource/s has changed? (Eldon de Waal - Sep 17, 2013)","Turns out that the problem was due to a configuration issue that caused production to go into emulation mode. It appears that the problem goes a long way back as once the configuration issue had been resolved, there were further issues that prevented successful publishing into ACS. I believe that the problem has been fixed, but it is largely untested. As it stands, it will only work for new publications that are published into ACS, not for items already with issues. (Greg Baker - Sep 18, 2013)","Deployed the fix to production and the above url (pollyanna) is now working correctly after republishing the title. (Greg Baker - Sep 18, 2013)","New/recent Adobe DRM fulfilment is failing: e.g. token 2960b9d6-23c4-11e3-8dc3-14dae9b856bb   on MDS oder id: 3036 (Eldon de Waal - Sep 23, 2013)","The problem is that due to the configuration issue on production many titles were published in 'emulation mode'. This means that Adobe Content Server never received these publications. As the configuration issue has been resolved, it's possible to now correctly publish these titles. This fulfillment is now working after withdrawing/republishing the title.  (Greg Baker - Sep 23, 2013)","Indeed, Withdrawing and REinstating worked! Can you run a rake task on all titles to withdraw and re-instate them? (Eldon de Waal - Sep 23, 2013)","This script is currently processing on production, but is going to take a long time... (Greg Baker - Sep 23, 2013)","12113 publications have been correctly published. There were 7900 that  were not accepted by ACS. I'll investigate.  (Greg Baker - Sep 23, 2013)","The titles not accepted by ACS were ELIB titles that have remote fulfillment. (Greg Baker - Sep 25, 2013)"
57464134,"Unable to ""Publish"" title with Adobe DRM -> 9781446496633","",8,"Oct 6, 2013","Oct 12, 2013",bug,,accepted,"Sep 23, 2013","Oct 8, 2013",,Eldon de Waal,I awesome that this task is also related to the Adobe DRM fulfilment issue,https://www.pivotaltracker.com/story/show/57464134,Greg Baker,,,"This title is now published. It might have been successfully published when I ran the script to publish all awaiting approval publications with companies that allowed auto approve. (Greg Baker - Sep 25, 2013)","In staging, the title is not published due to the blurb and description being blank. (Greg Baker - Sep 25, 2013)"
58334210,Saved searches,"",8,"Oct 6, 2013","Oct 12, 2013",feature,2,accepted,"Oct 7, 2013","Oct 8, 2013",,Eldon de Waal,Need to be able to name and save a publication search.,https://www.pivotaltracker.com/story/show/58334210,Greg Baker,,,"Deployed to staging. On the admin/ebooks page there will be a 'Save this search' link on the bottom right. Click it and then enter a name for the search. The searches can be seen by clicking on 'Searches' on the top right of the main navigation.

Once the ability to create discount strategies has been deployed, you'll be able to apply them to saved searches. (Greg Baker - Oct 8, 2013)"
58502448,Publisher is unable to edit and save the price of their title,"",8,"Oct 6, 2013","Oct 12, 2013",bug,,accepted,"Oct 9, 2013","Oct 10, 2013",,Eldon de Waal,I've made the fix and deployed to staging for testing. ,https://www.pivotaltracker.com/story/show/58502448,Greg Baker,,
58613542,Return an XML response to an order request instead of a redirect,"",8,"Oct 6, 2013","Oct 12, 2013",feature,0,accepted,"Oct 10, 2013","Oct 10, 2013",,Eldon de Waal,can be seen at http://mds.mogulview.com:80/orders/c8cf0ba0-1bc0-11e3-bfbc-14dae9b856bb,https://www.pivotaltracker.com/story/show/58613542,Greg Baker,,
58788344,URGENT: ACSM file mimetype,"",9,"Oct 13, 2013","Oct 19, 2013",chore,,accepted,"Oct 14, 2013","Oct 14, 2013",,Eldon de Waal,"Pls ensure that acsm file toekn have the correct mime-type:
application/vnd.adobe.adept+xml
vs
application/octet-stream; charset=utf-8
",https://www.pivotaltracker.com/story/show/58788344,Greg Baker,,
58788436,Create Subscriber/subscription via MDS f'end,"",9,"Oct 13, 2013","Oct 19, 2013",feature,1,accepted,"Oct 14, 2013","Oct 15, 2013",,Eldon de Waal,"As admin, let me create a subscriber and a subscription for that Subscriber via the MDS f'end",https://www.pivotaltracker.com/story/show/58788436,Greg Baker,,,"Deployed to staging. It can be found on the main navigation on 'Subscribers' under 'Subscriptions'. (Greg Baker - Oct 14, 2013)","Perfect, pls deploy first thing this AM (Eldon de Waal - Oct 14, 2013)","How easy/quick is it to add a search feature to the Subscribers screen?  Criteria -> Search by name or email (Eldon de Waal - Oct 15, 2013)","An hour maybe. Shall I start that this morning? (Greg Baker - Oct 15, 2013)","Please pls, but pls deploy the stuff that you've done already.

Tks
E (Eldon de Waal - Oct 15, 2013)","Deployed to production (Greg Baker - Oct 15, 2013)","On the Edit Subscriber form I need to be able to create a subscription for the User (Eldon de Waal - Oct 15, 2013)","Deployed to staging. Let me know if this is what you were after and I'll push it to production. (Greg Baker - Oct 15, 2013)","Deployed to staging and production with new search functionality. (Greg Baker - Oct 15, 2013)"
58869262,Editing current PPI creates new PPI record,"",9,"Oct 13, 2013","Oct 19, 2013",bug,,accepted,"Oct 15, 2013","Oct 15, 2013",,Eldon de Waal,"If a edit a non-Random House products' PPI, and save, it adds in a new ppi record to the existing one. It needs to replace the old PPI record, not apend to it.",https://www.pivotaltracker.com/story/show/58869262,Greg Baker,,,"Deployed to staging. Please test and let me know if it's ready for production. (Greg Baker - Oct 15, 2013)","yip it works pls deploy...

also pls can you remove all the additional ppis on these 2 products: http://mds.mogulview.com/admin/ebooks/43221/edit
http://mds.mogulview.com/admin/ebooks/15702/edit (Eldon de Waal - Oct 15, 2013)","also pls can you remove all the additional ppis on these 2 products: http://mds.mogulview.com/admin/ebooks/43221/edit
http://mds.mogulview.com/admin/ebooks/15702/edit (Eldon de Waal - Oct 15, 2013)","additional ppis removed
fix deployed to production (Greg Baker - Oct 15, 2013)"
58886280,Page not found,"",9,"Oct 13, 2013","Oct 19, 2013",bug,,accepted,"Oct 15, 2013","Oct 16, 2013",,Eldon de Waal," http://mds.mogulview.com/subscribers/book_clubs?retailer_id=3
http://staging.mogulview.com/subscribers/samples?retailer_id=3&page=1&per_page=100
",https://www.pivotaltracker.com/story/show/58886280,Greg Baker,,,"should now be fixed in both staging and production (Greg Baker - Oct 16, 2013)"
58869458,Edit Publication Error on save of Files Tab,"",9,"Oct 13, 2013","Oct 19, 2013",bug,,accepted,"Oct 15, 2013","Oct 17, 2013",,Eldon de Waal,"When creating a new publication record, on the file sTab I select the revelant files (via FTP) and select Save --->  Unexpected Problem Encountered",https://www.pivotaltracker.com/story/show/58869458,Greg Baker,,,"I see that as @Publishers can upload files so looks like this only affects as @Admin Users (Eldon de Waal - Oct 16, 2013)","Eldon, can you please try this again on staging. I can't seem to replicate the issue, but have added some logic to help me track down the issue. Thanks. (Greg Baker - Oct 16, 2013)","staging seems to be working for both ""Choose file"" and FTP folder uploads (Eldon de Waal - Oct 16, 2013)","works on prod now too
 (Eldon de Waal - Oct 16, 2013)","I cleaned up some of that code yesterday, so might have been what fixed the issue. Please let me know if the problem returns.  (Greg Baker - Oct 16, 2013)"
59049874,Max device limit is not being enforced,"",9,"Oct 13, 2013","Oct 19, 2013",bug,,accepted,"Oct 17, 2013","Oct 18, 2013",,Eldon de Waal,"Fixed and deployed to staging and production. Current implementation is that a book club has an attribute, device_limit. If the subscriber has more devices registered than this limit, the checkout will not be allowed.",https://www.pivotaltracker.com/story/show/59049874,Greg Baker,,
59050124,Checkout occasionally returns incorrect publication,"",9,"Oct 13, 2013","Oct 19, 2013",bug,,accepted,"Oct 17, 2013","Oct 18, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/59050124,Greg Baker,,
58882402,*/publications/all feed issues,"",10,"Oct 20, 2013","Oct 26, 2013",bug,,accepted,"Oct 15, 2013","Oct 21, 2013",,Eldon de Waal,"When until param is in the future, no results are returned
Cannot use since and until together",https://www.pivotaltracker.com/story/show/58882402,Greg Baker,,,"errors (Eldon de Waal - Oct 18, 2013)","No supply detail on http://mds.mogulview.com/retailers/publications/all?isbn13=9781448175024 (Eldon de Waal - Oct 18, 2013)","For attribute Distributor, if Company is not a distributor then pls send distributor = ""MDS"" for the product in the feed
 (Eldon de Waal - Oct 21, 2013)"
59250990,"PubHub books have an error ""no file attached""","",10,"Oct 20, 2013","Oct 26, 2013",bug,,accepted,"Oct 21, 2013","Oct 22, 2013",,Eldon de Waal,"With PubHub books, there is no file. This is remote fulfilment for this distributor. Not able to add books to the subscription until this is sorted.",https://www.pivotaltracker.com/story/show/59250990,Greg Baker,,,"Hi Eldon. Can you please describe to me the steps to reproduced this problem? It can add and remove PubHub titles to subscriptions with no apparent problem. (Greg Baker - Oct 22, 2013)"
59303892,"Publication status: No author yet, title can be published... ","",10,"Oct 20, 2013","Oct 26, 2013",bug,,accepted,"Oct 21, 2013","Oct 22, 2013",,Eldon de Waal,"http://mds.mogulview.com/admin/ebooks/43256/edit
Authors/contributors are a required field for setting status to published.",https://www.pivotaltracker.com/story/show/59303892,Greg Baker,,,"They are now marked as required fields. (Greg Baker - Oct 22, 2013)"
59472110,Authentication is broken,"",10,"Oct 20, 2013","Oct 26, 2013",bug,,accepted,"Oct 24, 2013","Oct 24, 2013",,Eldon de Waal,"Retailers need to authenticate with credentials in MDS database
Subscribers need to authenticate with Magento without providing a retailer id",https://www.pivotaltracker.com/story/show/59472110,Greg Baker,,
59471748,cannot download pubhub titles,"",10,"Oct 20, 2013","Oct 26, 2013",bug,,accepted,"Oct 24, 2013","Oct 24, 2013",,Eldon de Waal,fixed in production and staging,https://www.pivotaltracker.com/story/show/59471748,Greg Baker,,
59483920,remove leading and trailing whitespace from publication tags in /all feed,"",10,"Oct 20, 2013","Oct 26, 2013",feature,0,accepted,"Oct 24, 2013","Oct 24, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/59483920,Greg Baker,,
59646800,remove duplicate ppis,"",11,"Oct 27, 2013","Nov 2, 2013",chore,,accepted,"Oct 28, 2013","Oct 28, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/59646800,Greg Baker,,
59316256,Google Cloud Messaging for Android,"",11,"Oct 27, 2013","Nov 2, 2013",feature,0,accepted,"Oct 22, 2013","Oct 28, 2013",,Ramone,Enables MDS to send push notifications to specific groups of Android users. http://developer.android.com/google/gcm/gcm.html,https://www.pivotaltracker.com/story/show/59316256,Greg Baker,,,"http://staging.mogulview.com/device/register (Greg Baker - Oct 22, 2013)","As discussed, this currently only returns a 200. (Greg Baker - Oct 28, 2013)",,,,,,,,,,,,,,,,,,,,,,,,,,Registration Endpoint,not completed
59035000,Create endpoint for app to get Active Samsung subscription,"",11,"Oct 27, 2013","Nov 2, 2013",feature,3,accepted,"Oct 17, 2013","Oct 28, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/59035000,Greg Baker,,,"/subscribers/promotion/redeem
/book_club/promotion (Greg Baker - Oct 22, 2013)",,,,,,,,,,,,,,,,,,,,,,,,,,,"api end point to get list ""Active samsung subscriptions"" only language parameter and subscription ID required. Also include an array of ""Authorised devices by device code""",not completed,"Create ""Partner codes"" as a subscriptions sub Menu.",not completed,"Partner codes page -> Create partner code option (two User inputted attributes; Description and Partner Code).  The following are attached to the partner code: 1. list of ""Approved device codes"" and 2 the list (multi-select) of subscriptions,  the duration (# of months) of the subscription  of the User and lastly the end date of the validity of the Partner code",not completed,"Create new endpoint (User basic auth) with URL params --> Subscription I'd, Partner code, Device Code",not completed,"On success (i.e. valid user, valid partner code) on previous endpoint, create subscription for the User. The period is taken from the Subscription attribute ""no of months""",not completed
59251068,Attach Saved Search collection to Subscription,"",11,"Oct 27, 2013","Nov 2, 2013",feature,1,accepted,"Oct 21, 2013","Oct 29, 2013",,Eldon de Waal,"Deployed to staging. 
eg. http://staging.mogulview.com/admin/book_clubs/1/publications
next to where you add isbn's, you can now choose a saved search.",https://www.pivotaltracker.com/story/show/59251068,Greg Baker,,
59735756,This title wont publish: 9781448177080.,"",11,"Oct 27, 2013","Nov 2, 2013",bug,,accepted,"Oct 29, 2013","Oct 30, 2013",,Eldon de Waal,"The file size is 58MB, could it be that Content Server is unable to parse is due to the huge filesize?",https://www.pivotaltracker.com/story/show/59735756,Greg Baker,,,"Yes, it's just the file size causing an issue. I've increased the allowed size from 50 to 60MB and the product is now published. (Greg Baker - Oct 30, 2013)"
59913856,Cannot view detail view for subscribers,"",11,"Oct 27, 2013","Nov 2, 2013",bug,,accepted,"Oct 31, 2013","Nov 1, 2013",,Greg Baker,eg. http://mds.mogulview.com/admin/book_clubs/1/subscriptions,https://www.pivotaltracker.com/story/show/59913856,Greg Baker,,,"fixed in production and staging (Greg Baker - Oct 31, 2013)"
59913764,Cannot download publication,"",11,"Oct 27, 2013","Nov 2, 2013",bug,,accepted,"Oct 31, 2013","Nov 1, 2013",,Eldon de Waal,http://mds.mogulview.com/orders/fc12a8fe-4213-11e3-99e2-14dae9b856bb,https://www.pivotaltracker.com/story/show/59913764,Greg Baker,,,"fixed in staging and production (Greg Baker - Oct 31, 2013)"
59742626,Send notification email when PPi cannot be created for a record,"",11,"Oct 27, 2013","Nov 2, 2013",feature,1,accepted,"Oct 29, 2013","Nov 1, 2013",,Eldon de Waal,"Sent you a test email, Eldon. The publication is actually valid, was just for testing purposes.",https://www.pivotaltracker.com/story/show/59742626,Greg Baker,,
59034100,Add SSL cert to mds,"",11,"Oct 27, 2013","Nov 2, 2013",feature,3,accepted,"Oct 17, 2013","Nov 1, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/59034100,Greg Baker,,,"had to generate a self-signed certificate for assets.mogulview.com in order to see the assets, but
https://mds.ereadz.com is up and ready for testing. (Greg Baker - Oct 24, 2013)","asset server has been removed as it was unnecessary and complicating things. all redirects are now redirecting to the correct protocol based on the host name (mds.ereadz or mds.mogulview) (Greg Baker - Oct 31, 2013)"
59910782,Issues with subscriber detail view,"",11,"Oct 27, 2013","Nov 2, 2013",bug,,accepted,"Oct 31, 2013","Nov 1, 2013",,Greg Baker,"http://mds.mogulview.com/admin/book_clubs/1/subscriptions

Ander's Borrows and History are empty. They should not be. 
remove some of the records so that he can borrow more in the current period.",https://www.pivotaltracker.com/story/show/59910782,Greg Baker,,,"The issue has been fixed in staging, however the correct history will only show from now on as the app was deleting the required data. 

Anders should be able to check out new titles again. (Greg Baker - Nov 1, 2013)","Pls can you deploy this (and only this task) to production (Eldon de Waal - Nov 1, 2013)","Sure, it's now deployed. (Greg Baker - Nov 1, 2013)"
59823860,checkout out book not returned from /subscribers/friends/publications,"",11,"Oct 27, 2013","Nov 2, 2013",bug,,accepted,"Oct 30, 2013","Nov 1, 2013",,Eldon de Waal,"http://mds.mogulview.com/subscribers/friends/publications?provider=facebook&access_token=CAACsvtSgahMBALgZCVzBIotT9NtuuaiqKSjrM3j4bHP2AJ2N1qohEwEpwKUMpjeXcyAEQsezxEhUPm8zAvAnF9zOZCsBsZC0ffzjjl6K730TgbNknQXgtm9DRpJieKjWi0ONdL9jwqsgG9JNZCrZB6CH0rpmZCCZCRreOHZAyRJt6Apc17kDhnQmJdmx4E69O8oKCgmzonvRTrsDl5OdWVBL&account=1324748052&retailer_id=3

Anders has 2 subscriber records on the system. The subscriber that this request refers to is not the one with the checkout out book. ",https://www.pivotaltracker.com/story/show/59823860,Greg Baker,,
59982306,Remove duplicate authors & contributors from publications ,"",12,"Nov 3, 2013","Nov 9, 2013",feature,1,accepted,"Nov 1, 2013","Nov 4, 2013",,Eldon de Waal,also add validation to prevent this situation,https://www.pivotaltracker.com/story/show/59982306,Greg Baker,,
59982324,Add validation to prevent duplicate PPIs,"",12,"Nov 3, 2013","Nov 9, 2013",feature,0,accepted,"Nov 1, 2013","Nov 4, 2013",,Greg Baker,deployed to staging,https://www.pivotaltracker.com/story/show/59982324,Greg Baker,,
60062692,Fix author names with HTMLescape  issues,"",12,"Nov 3, 2013","Nov 9, 2013",bug,,accepted,"Nov 4, 2013","Nov 4, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/60062692,Greg Baker,,
60154150,Ability to find publications by author name,"",12,"Nov 3, 2013","Nov 9, 2013",feature,1,accepted,"Nov 5, 2013","Nov 5, 2013",,Eldon de Waal,deployed to production. 'By author' field at the bottom right.,https://www.pivotaltracker.com/story/show/60154150,Greg Baker,,
60157516,Updating publication author does not work,"",12,"Nov 3, 2013","Nov 9, 2013",bug,,accepted,"Nov 5, 2013","Nov 5, 2013",,Eldon de Waal,"It appears that updating the changes only either adds or removes a contributor.  The easiest thing to do then, would be to check the current contributor to be removed and add a new contributor with the correct name.",https://www.pivotaltracker.com/story/show/60157516,Greg Baker,,
60248882,Distributors - Auto Approve setting not working,"",12,"Nov 3, 2013","Nov 9, 2013",bug,,accepted,"Nov 6, 2013","Nov 6, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/60248882,Greg Baker,,,"The way things are currently set up, there are 3 components to importing publications. 1. Create the publication records, 2. Generate the PPI's 3. Approve relevant publications.
Each step has a separate rake task.
For the epubDirect  import, i manually ran the first step before saying publications had been imported in the ticket. Which is why they were not yet approved. However, 
in the crontab, every 12h any relevant publications will be auto approved with the rake task. The epubDirect imports now all have PPI's generated and are approved. (Greg Baker - Nov 6, 2013)"
60235142,ELIB imports for Author attribute,"",12,"Nov 3, 2013","Nov 9, 2013",bug,,accepted,"Nov 6, 2013","Nov 8, 2013",,Eldon de Waal,"Pleasse investigate why we are recording bad data for the Lastname -> 9789147903870. There are tons of products where ""---"" is being added to the Lastname when this shouldn't happen. It's not coming in via the feed so the MDS is creating this bug",https://www.pivotaltracker.com/story/show/60235142,Greg Baker,,,"This issue affected publications where no first name was provided. The MDS tried to split up the last name and use the first part of the last name as a first name. If there was only one part then it was assigning weirdness to the last name. Fixed in staging. (Greg Baker - Nov 7, 2013)","Ok, pls deploy to prod. can you re-process all the ELIB titles and re-populate the authors/contributors in order to fix the data?
 (Eldon de Waal - Nov 7, 2013)","Deployed to production. And as far as i can tell, on production the authors/contributors have been fixed. (Greg Baker - Nov 7, 2013)","Awesome.


Sent from Samsung Mobile (Eldon de Waal - Nov 7, 2013)"
60317232,Let me search for a User either by email address or name/surname on */sub2scribers,"",12,"Nov 3, 2013","Nov 9, 2013",feature,1,accepted,"Nov 7, 2013","Nov 8, 2013",,Eldon de Waal,deployed to staging and production,https://www.pivotaltracker.com/story/show/60317232,Greg Baker,,
60317250,Let Admin add more than one subscription to a Subscriber,"",13,"Nov 10, 2013","Nov 16, 2013",feature,1,accepted,"Nov 7, 2013","Nov 11, 2013",,Eldon de Waal,"deployed to staging, eg.
http://staging.mogulview.com/sub2scribers/1613/edit",https://www.pivotaltracker.com/story/show/60317250,Greg Baker,,,"Pls deploy to prod (Eldon de Waal - Nov 11, 2013)","sure, now deployed to production (Greg Baker - Nov 11, 2013)"
56252654,Complete epubDirect integration,"",13,"Nov 10, 2013","Nov 16, 2013",feature,5,accepted,"Sep 3, 2013","Nov 11, 2013",,Eldon de Waal,please call me when you're ready to start this task,https://www.pivotaltracker.com/story/show/56252654,Greg Baker,,,"This has been completed and tested with a very limited set of data. I'm going to wait for epubDirect to send some new data that we can test with before adding  the import to the scheduled tasks. (Greg Baker - Oct 4, 2013)","Goid stuff. Tks greg


Sent from Samsung Mobile (Eldon de Waal - Oct 4, 2013)","As requested, I've imported a small amount of the new epubDirect data on  production into staging. Please check the following publications. 

9781848890480 
9781848890473 
9781848890497 
9781848890534 
9781848890558 
9781848890657 
9781848890695 
9781848890718 
9781848890671
 (Greg Baker - Nov 5, 2013)","Publications have now been re-imported on staging with the fixes. (Greg Baker - Nov 5, 2013)","I've added the 'publication series' attribute. eg. 9781856357081
Unfortunately epubDirect does not supply the publication series position. (Greg Baker - Nov 6, 2013)","5749 publications imported into production (Greg Baker - Nov 6, 2013)","Great, pls can you set all titles that can be published to Published. tks (Eldon de Waal - Nov 6, 2013)","All published now. (Greg Baker - Nov 6, 2013)","This task is now added to the daily import schedule. It's set to run, like the Random House import  task, every 2 hours. (Greg Baker - Nov 7, 2013)","Awesome. Tks


Sent from Samsung Mobile (Eldon de Waal - Nov 7, 2013)",,,,,,,,,,,,,,,,,,Not mapped: <numberofpages>223</numberofpages>,completed,Distributor default DRM settings missing from http://staging.mogulview.com/admin/companies/879/edit,completed,Default drm should be Social DRM,completed,Unable to Publish this title: http://staging.mogulview.com/admin/ebooks/78792/  I get an error msg,completed,"Is ""Series"" mapped? (hasn't been a test book with Series yet)",completed,"Pls move the processed ONIX files to the ""onix_backups"" directory (child of the deliveries@epubdirect.com folder)",completed
59735512,Investigate why As publisher changes price results in error page,"",13,"Nov 10, 2013","Nov 16, 2013",bug,,accepted,"Oct 29, 2013","Nov 11, 2013",,Eldon de Waal,this bug only affected published titles. has been fixed now in staging.,https://www.pivotaltracker.com/story/show/59735512,Greg Baker,,,"pls deploy to live (Eldon de Waal - Nov 8, 2013)","Deployed everywhere (Greg Baker - Nov 8, 2013)"
60495234,should not be able to publish a product that has no ppis,"",13,"Nov 10, 2013","Nov 16, 2013",feature,1,accepted,"Nov 11, 2013","Nov 11, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/60495234,Greg Baker,,
60496816,"/all feed should only have publications with language ENG, NOR, SWE, DAN or FIN","",13,"Nov 10, 2013","Nov 16, 2013",feature,1,accepted,"Nov 11, 2013","Nov 11, 2013",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/60496816,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,withdraw all publications that don't belong to above languages,completed,prevent them publishing again,completed
60518194,publication status incorrect,"",13,"Nov 10, 2013","Nov 16, 2013",bug,,accepted,"Nov 11, 2013","Nov 12, 2013",,Eldon de Waal,"This is fixed now and I've also updated the way the MDS displays errors messages so they should be a bit more descriptive. (eg.  not just main file or image must exist, but other attributes as well such as language, ppis, etc)",https://www.pivotaltracker.com/story/show/60518194,Greg Baker,,
60062642,investigate performance of  edit product -> Files tab,"",13,"Nov 10, 2013","Nov 16, 2013",feature,0,accepted,"Nov 4, 2013","Nov 13, 2013",,Eldon de Waal,"I've managed to decrease the load time of this page by half. It's pulling a lot of ftp data, which is why it takes so long. It will be possible to optimize it a lot further, but will take some time.",https://www.pivotaltracker.com/story/show/60062642,Greg Baker,,,"Ok, see there there are still around 3000 files in the epubDirect folder. I'll take a look and see if there is metadata for any of these. Processing them will reduce the FTP folder lookup (Eldon de Waal - Nov 6, 2013)"
56263712,Create import schedule: ELIB and PubHub,"",13,"Nov 10, 2013","Nov 16, 2013",feature,5,accepted,"Sep 3, 2013","Nov 14, 2013",,Eldon de Waal,to run twice daily,https://www.pivotaltracker.com/story/show/56263712,Greg Baker,,,"what time/s of day will it run? (Eldon de Waal - Sep 12, 2013)","Not seeing any new titles coming through (Eldon de Waal - Sep 13, 2013)","I've set it up to run only on staging and it should run between 00h00 and 01h00 and 12h00 and 13h00.  (Greg Baker - Sep 16, 2013)","Hi Gregg, I have checked on Staging and there have been no recent updates to the respective collections. (Eldon de Waal - Sep 17, 2013)","My apologies. These scripts were not scheduled to run, so I simply scheduled them not realizing that the scripts were broken. 693 ELIB titles have now been imported on staging and are currently importing on production. PubHub will take a bit longer, but hopefully we'll have a working rake task by the end of the day. (Greg Baker - Sep 25, 2013)","The Pubhub script has been largely rewritten now and is currently importing data onto staging. (Greg Baker - Sep 26, 2013)","Fantastic!!! (Eldon de Waal - Sep 26, 2013)","Did you also map the product samples? (Eldon de Waal - Sep 26, 2013)","No, but I see that Pubhub is supplying them.  They look like this: http://samples.pubhub.dk/9788788663983.pdf
Do you want to store the URL or actually import the pdf? (Greg Baker - Sep 26, 2013)","I think please store the URL and serve it in the */all feed.

Please add in validation that if the publication file is a pdf then the 
sample must also be a pdf. Same for epub. Else, ignore the sample.

Also, since you are currently working on the Pubhub feed, I'd like to 
also start importing their Audiobooks. Would be great if you could fit 
that in too.

E (Eldon de Waal - Sep 26, 2013)","Add the sample url and validation. Also added Audiobooks. Only for Pubhub though. It's been deployed to staging and you can see an example of the feed at http://staging.mogulview.com/retailers/publications/all/?since=2013-09-27T10:40:47Z&page=4&per_page=10

After making these changes, I removed all the publications imported yesterday and only imported new titles from the last year to test.  (Greg Baker - Sep 27, 2013)","Pubhub should import all missing titles tonight. If successful, PPI's will be created and publications that allow it will be auto approved. (Greg Baker - Sep 27, 2013)","5854 new Pubhub titles published this weekend. (Greg Baker - Sep 30, 2013)"
59823718,Log and provide page to view all requests to /device/register,"",13,"Nov 10, 2013","Nov 16, 2013",feature,1,accepted,"Oct 30, 2013","Nov 14, 2013",,Ramone,view requests at /device/registrations,https://www.pivotaltracker.com/story/show/59823718,Greg Baker,,
60775734,Change sample download_url to be direct link to sample,"",13,"Nov 10, 2013","Nov 16, 2013",bug,,accepted,"Nov 14, 2013","Nov 15, 2013",,Eldon de Waal,"eg. change the response from 
https://mds.ereadz.com/subscribers/samples?retailer_id=3",https://www.pivotaltracker.com/story/show/60775734,Greg Baker,,,"as requested, the download_url has been changed to a POST (Greg Baker - Nov 15, 2013)"
60934606,*/all feed ppi territories are null,"",14,"Nov 17, 2013","Nov 23, 2013",bug,,accepted,"Nov 18, 2013","Nov 18, 2013",,Eldon de Waal,"e.g. 9788251682428, 

please ensure no product have ""null"" territories",https://www.pivotaltracker.com/story/show/60934606,Greg Baker,,,"The publisher for this product is ""Schibsted Forlag"". Is it correct that in this instance the territory should be 'WORLD'? (Greg Baker - Nov 18, 2013)","yes, should be world. I think there are several more products with this issue (Eldon de Waal - Nov 18, 2013)","thanks, i'll correct them and prevent it happening again. (Greg Baker - Nov 18, 2013)"
60757034,Make saved searches attached to subscriptions dynamically update publications,"",14,"Nov 17, 2013","Nov 23, 2013",feature,2,accepted,"Nov 14, 2013","Nov 18, 2013",,Eldon de Waal,"Deployed to staging. Saved searches can be added / removed to a subscription via the subscription edit page. eg. http://staging.mogulview.com/admin/book_clubs/1/edit 

On the publications page for the subscription (eg. http://staging.mogulview.com/admin/book_clubs/1/publications), the name of the saved search will be shown where normally you'd see a Remove link. The remove link is still there for publications that are attached in the normal way.  

The process that updates the publications belonging to a subscription runs every hour.  ",https://www.pivotaltracker.com/story/show/60757034,Greg Baker,,,"pls deploy to live (Eldon de Waal - Nov 18, 2013)","deployed (Greg Baker - Nov 18, 2013)"
61018732,ELIB and RHUK imports - PPI's not being created,"",14,"Nov 17, 2013","Nov 23, 2013",bug,,accepted,"Nov 18, 2013","Nov 20, 2013",,Eldon de Waal,See the latest titles importedd.... no ppi's despite the data being available in the feed,https://www.pivotaltracker.com/story/show/61018732,Greg Baker,,,"this is timing issue. looks like the rake task just hasn't run yet. this was a badly though out plan as it allows for this case. i'm going to change the logic so that the ppis get created along with the publications. (Greg Baker - Nov 19, 2013)","fixed in production and staging (Greg Baker - Nov 19, 2013)"
60766590,Awaiting approval title appears in Subscription,"",14,"Nov 17, 2013","Nov 23, 2013",bug,,accepted,"Nov 14, 2013","Nov 20, 2013",,Eldon de Waal,"I title which is yet to be published appears in the New and Popular feed of the subscription. If a title is not published, it CANNOT appear in any feed",https://www.pivotaltracker.com/story/show/60766590,Greg Baker,,,"Hi Eldon. Can you please give me example urls? Thanks! (Greg Baker - Nov 20, 2013)","http://mds.mogulview.com/admin/book_clubs/4/publications?search%5Border%5D=&search%5Bcompany_id_equals%5D=&search%5Bisbn_13_or_name_like%5D=9788248912491&commit=Filter (Eldon de Waal - Nov 20, 2013)","Would it be better to make it so that only published titles can be added to subscriptions? (Greg Baker - Nov 20, 2013)","indeed! In this case the publisher added the title to the subscription... We can avoid this by making the Subscriptions tab NOT editable on the publication edit screen (subscriptions tab) for non-admin users. In addition, add logic such that only Published titles can be added to a subscription (Eldon de Waal - Nov 20, 2013)","deployed the fix to staging (Greg Baker - Nov 20, 2013)"
61277238,Increase max epub file size limit to 100MB,"",14,"Nov 17, 2013","Nov 23, 2013",chore,,accepted,"Nov 22, 2013","Nov 22, 2013",,Eldon de Waal,done for both staging and production,https://www.pivotaltracker.com/story/show/61277238,Greg Baker,,
61454292,Unable to Create new publication record = Unexpected problem encountered,"",15,"Nov 24, 2013","Nov 30, 2013",bug,,accepted,"Nov 26, 2013","Nov 26, 2013",,Eldon de Waal,e.g. http://mds.mogulview.com/admin/ebooks/new?search%5Bcompany_id_equals%5D=37,https://www.pivotaltracker.com/story/show/61454292,Greg Baker,,,"sorry, accidentally introduced this with the category fix yesterday.  (Greg Baker - Nov 26, 2013)"
61808780,Error on http://mds.mogulview.com/admin/searches,"",16,"Dec 1, 2013","Dec 7, 2013",bug,,accepted,"Dec 3, 2013","Dec 3, 2013",,Eldon de Waal,"Unable to complete your requested action.
Unexpected problem encountered",https://www.pivotaltracker.com/story/show/61808780,Greg Baker,,,"This was caused by a search being saved with no parameters. I've added a validation that will prevent this issue from reoccurring and removed the record in question. (Greg Baker - Dec 3, 2013)"
61872780,Unable to add new product image,"",16,"Dec 1, 2013","Dec 7, 2013",bug,,accepted,"Dec 3, 2013","Dec 4, 2013",,Eldon de Waal,http://mds.mogulview.com/admin/ebooks/2693/files,https://www.pivotaltracker.com/story/show/61872780,Greg Baker,,,"should new be fixed on staging and production (Greg Baker - Dec 4, 2013)"
61193066,Checkin Publication Endpoint,api2,16,"Dec 1, 2013","Dec 7, 2013",feature,1,accepted,"Nov 21, 2013","Dec 5, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/checkin-publication,https://www.pivotaltracker.com/story/show/61193066,Greg Baker,,,"eg. http://staging.mogulview.com/apiv2/subscribers/checkout/635/checkin?retailer_id=3 (Greg Baker - Nov 26, 2013)",,,,,,,,,,,,,,,,,,,,,,,,,,,Should not return status string when there is an error,completed,"""errors"":[""There is no event checkin defined for the in state""] should be ""invalid_checkout_id"":null",completed,500 Internal Server error occurs when trying to checkin a book. It seems actually checkin the book because the checkout is no longer returned by the Get Checkouts endpoint.,completed
61192896,Get Subscriptions Endpoint,api2,17,"Dec 8, 2013","Dec 14, 2013",feature,1,accepted,"Nov 21, 2013","Dec 10, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/subscriptions,https://www.pivotaltracker.com/story/show/61192896,Greg Baker,,,"staging.mogulview.com/apiv2/subscribers/subscriptions (Greg Baker - Nov 22, 2013)","Still not getting a 304 when I use If-Modified-Since: Sat, 30 Nov 2013 19:43:31 GMT
On the old subscribers/subscription endpoint this does work. (Ramone - Dec 5, 2013)","The way this is working is that if there is new data after the date you are sending, then the request is processed and the data is returned. As, currently, the newest data is from 26 Dec 2013, you'll need to provide a date after this.   (Greg Baker - Jan 7, 2014)","Cool, it is working. Didn't know something changed. Had my postman setup with an early December date. (Ramone - Jan 7, 2014)",,,,,,,,,,,,,,,,,,,,,,,,self_limit should be shelf_limit,completed,"subscription_info should be null not ""null""",completed,"subscription_info is always ""null"" even when the user has a valid subscription",completed,"monthly_checkouts should be null not ""null"" for unlimited checkouts",completed,If-Modified-Since header is not resulting in a 304 not modified,completed
61192946,Get Checkouts Endpoint,api2,17,"Dec 8, 2013","Dec 14, 2013",feature,1,accepted,"Nov 21, 2013","Dec 11, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/checkouts,https://www.pivotaltracker.com/story/show/61192946,Greg Baker,,,"staging.mogulview.com/apiv2/subscribers/checkouts (Greg Baker - Nov 22, 2013)","the download url will be nil until a transaction record is created for the publication.  (Greg Baker - Nov 29, 2013)","How are the clients supposed to download the epub? (Ramone - Nov 30, 2013)","OK wait, new checkouts appear to have a download URL. Are existing checkouts that weren't created with the new API the ones with null? (Ramone - Nov 30, 2013)","No sorry. When you checkout a book, the returned JSON has the download URL. But when you get the list of checkouts it doesn't (Ramone - Nov 30, 2013)","On staging the download url is using HTTPS (Ramone - Dec 5, 2013)","Paging on checkouts doesn't seem to work. Currently limited to 10. (Ramone - Jan 7, 2014)","Hitting staging.mogulview.com/apiv2/subscribers/checkouts with your credentials only returns 6 results. So changing the per_page param will not have an effect unless you set the number below this, eg. http://staging.mogulview.com/apiv2/subscribers/checkouts?retailer_id=3&type=ebook&per_page=1 (Greg Baker - Jan 8, 2014)","You are correct. It's working. (Ramone - Jan 8, 2014)",,,,,,,,,,,,,,,,,,,download_url is null,completed,Change preview_available to preview_download_url. Must be null if no preview is available,completed,Change image_url to image_url_mini and image_url_medium,completed,Change languages to language,completed,If-Modified-Since header is not resulting in a 304 not modified,completed,Download URL,completed,subscription_id is still incorrect. Needs to be the same as the id's that is returned in the Get Subscriptions call.,completed,Language returned needs to be 2 letter codes,completed
61193130,Get Previews Endpoint,api2,17,"Dec 8, 2013","Dec 14, 2013",feature,1,accepted,"Nov 21, 2013","Dec 11, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/get-previews,https://www.pivotaltracker.com/story/show/61193130,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscribers/previews?type=ebook&retailer_id=3 (Greg Baker - Nov 27, 2013)","This is obsolete now (Ramone - Dec 11, 2013)",,,,,,,,,,,,,,,,,,,,,,,,,,"Errors should use the proper error keyword. eg ""error"": ""type_required"" should be ""type_required"": null",completed,Retailer ID is required. Endpoint currently returns successfully without it,completed,Change preview_available to preview_download_url. This will obviously contain the download url for the preview,completed,image urls and download urls need to be fully qualified,completed
61193146,Get Preview Publication Endpoint,api2,17,"Dec 8, 2013","Dec 14, 2013",feature,1,accepted,"Nov 21, 2013","Dec 11, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/get-preview-publication,https://www.pivotaltracker.com/story/show/61193146,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscribers/preview/62?type=ebook&retailer_id=3 (Greg Baker - Nov 27, 2013)","as per docs, this is a POST (Greg Baker - Nov 27, 2013)","This is now obsolete (Ramone - Dec 11, 2013)"
56254390,Refactor Categories,"",18,"Dec 15, 2013","Dec 21, 2013",chore,,accepted,"Sep 3, 2013","Dec 18, 2013",,Eldon de Waal,remove language specific categories and leave English categories only,https://www.pivotaltracker.com/story/show/56254390,Greg Baker,,,"removed on staging (Greg Baker - Nov 12, 2013)","ok tks, but the job is not done. Check this one out... no categories... I think this is because the category mapping tables for ELIB and also for Pubhub and RH and epibDirect have the language prefix in the map-to code. pls confirm this and remove the first 2 digits (language code) as appropriate (Eldon de Waal - Nov 12, 2013)","sorry, check this one out here: http://staging.mogulview.com/admin/ebooks/79349/edit (Eldon de Waal - Nov 12, 2013)","And the language is also not set on that title (Eldon de Waal - Nov 12, 2013)","Thanks Eldon. This problem only affected elib titles, but it would have caused all of their categories to fail. Interestingly, this publications was imported with failed categories before the category change was pushed to staging. I've reimported them with the fixes in place and it looks ok. I'll check the rest in the morning, but have to run now I'm afraid. (Greg Baker - Nov 12, 2013)","Eldon, is this correct on staging? (Greg Baker - Nov 20, 2013)","not yet... pls remove the ""EN"" bit from the each code (Eldon de Waal - Nov 20, 2013)","I'm also not seeing any category selected for PubHub titles (Eldon de Waal - Nov 20, 2013)","Not seeing any category selected for Non-distributor titles... i.e. the entire categolue needs to be migrated correctly and also the import feeds need to reflect the new categories (Eldon de Waal - Nov 20, 2013)","Category mapping records have been corrected on production and staging. Still need to reimport missing category data. (Greg Baker - Nov 22, 2013)","This has been done. Eldon or Ramone, could you please check to see if everything is correct? (Greg Baker - Dec 18, 2013)"
62287114,Randon House titles are Withdrawn for some reason,"",18,"Dec 15, 2013","Dec 21, 2013",bug,,accepted,"Dec 10, 2013","Dec 18, 2013",,Eldon de Waal,"despite publishingstatus = 04 the titles are Withdrawn

ONIX publishingstatus codes:
http://www.editeur.org/files/ONIX%20for%20books%20-%20code%20lists/ONIX_BookProduct_CodeLists_Issue_12.html
",https://www.pivotaltracker.com/story/show/62287114,Greg Baker,,,"Still 5700 titles withdrawn. there should be some legitimate Withdrawn titles but not this many... (Eldon de Waal - Dec 12, 2013)"
61644042,prevent duplicate ppis,"",18,"Dec 15, 2013","Dec 21, 2013",bug,,accepted,"Nov 29, 2013","Dec 18, 2013",,Eldon de Waal,"These need to be fixed: 
9788299991032 (correct is NOK99-)
9788299991018(coorect price is NOK69-)
9788299991001 (correct price is NOK69-)
9789520110017 -> 23.33
9788275475617 -> 99.00

9788275475839 -> 99.00
9788275474726 -> 99.00
9788275475822 -> 99.00
9788275475785 -> 99.00
9788275475716 -> 99.00
9788275475693 -> 99.00
9788275475679 -> 99.00
9788275475846 -> 99.00
9788275475556 -> 99.00
9788275475662 -> 99.00
9788275475440 -> 99.00
9788275475792 -> 99.00
9788275475709 -> 99.00
9788275475686 -> 99.00
9788275475860 -> 99.00
9788275475877 -> 99.00
9788275475808 -> 99.00
9788275475631 -> 99.00
9788275475587 -> 99.00
9788275475815 -> 99.00
9788275475884 -> 99.00
9788275475600 -> 99.00
9788275475594 -> 99.00
9788275476058 -> 99.00
9788275476188 -> 99.00
9788275476225 -> 99.00
9788275476201 -> 99.00
9788275476195 -> 99.00
9788281433908 -> 129.00",https://www.pivotaltracker.com/story/show/61644042,Greg Baker,,,"The above duplicate PPI's have been corrected. I've also added code to prevent this situation in the future. Deployed to staging and production. (Greg Baker - Dec 18, 2013)"
61731084,Investigate PubHub download error on Anders' account,"",18,"Dec 15, 2013","Dec 21, 2013",bug,,accepted,"Dec 2, 2013","Dec 18, 2013",,Eldon de Waal,"single copy sale anders@ereadz.com

Name: Ildvidnet
SKU: 9788702125726",https://www.pivotaltracker.com/story/show/61731084,Greg Baker,,,"It appears that this publication was bought in currency NOK, however the ppi records for the publication only have currency DKK. Eldon, do you have any idea how this was possible? (Greg Baker - Dec 4, 2013)","Any title can be bought is any currency. The transaction record however is captured in the currency of the PPI record for the relevant country of the User. (Eldon de Waal - Dec 4, 2013)","Is the job of the MDS to convert the currency? The details that were sent to the MDS for this sale were:

Processing Retailers::OrdersController#create (for 176.9.99.131 at 2013-12-02 12:31:07) [POST]
  Parameters: {""discount""=>""0"", ""retailer_order_id""=>""101197"", ""purchased_by""=>""anders@ereadz.com"", ""price""=>""206.23"", ""billing_country""=>""GB"", ""publication_id""=>""9788702125726"", ""ccy""=>""NOK"", ""tax""=>""0""}

You can see that the sale was in NOK, however the PPI for this publication is in DKK.

{
         :id => 60969,
         :model => ""Wholesale"",
         :currency => ""DKK"",
         :price => 280.0,
         :cost_price => 140.0,
         :countries => ""World"",
         :publication_id => 34672,
         :created_at => Wed, 02 Oct 2013 14:31:33 SAST +02:00,
         :updated_at => Wed, 02 Oct 2013 14:31:33 SAST +02:00
    }

Due to this issue, no transaction was created. (Greg Baker - Dec 4, 2013)","There is no issue with what was sent. the Selling price should be treated as a text field and is for information purposes only. The MDS only really needs to cost price which it gets from the PPI record. MDS does not do any currency conversion ever. (Eldon de Waal - Dec 4, 2013)","ok, thanks Eldon. I've deployed a fix to staging. (Greg Baker - Dec 9, 2013)","We need to test this thoroughly. I'll speak to Ramone about this. (Greg Baker - Dec 9, 2013)"
62369744,Get Book Categories,api2,18,"Dec 15, 2013","Dec 21, 2013",feature,1,accepted,"Dec 11, 2013","Dec 20, 2013",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/get-books,https://www.pivotaltracker.com/story/show/62369744,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscriptions/9/categories?retailer_id=3 (Greg Baker - Dec 12, 2013)","No auth is required on this endpoint (Ramone - Dec 12, 2013)"
60753830,Implement API2,"",21,"Jan 5, 2014","Jan 11, 2014",feature,8,accepted,"Nov 14, 2013","Jan 6, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/60753830,Greg Baker,,
61193110,Download Publication Endpoint,api2,21,"Jan 5, 2014","Jan 11, 2014",feature,1,accepted,"Nov 21, 2013","Jan 6, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/download-checkout,https://www.pivotaltracker.com/story/show/61193110,Greg Baker,,,"Are subscription_id, retailer_id and publication_id not needed? (Ramone - Nov 28, 2013)","This endpoint will require the device ID so that the epub can be encrypted correctly (Ramone - Dec 1, 2013)","All that we need to retrieve the publication is the checkout ID. (Greg Baker - Dec 3, 2013)","What would you like to encrypt the publication with? (Greg Baker - Dec 3, 2013)","Encrypt it using the key structure we discussed yesterday. Cavan will send you an email with more complete details (Ramone - Dec 5, 2013)","http://staging.mogulview.com/apiv2/subscribers/checkout/731/download?retailer_id=3&identifier=CB8A77C4-5CB7-4BC1-94C9-43BABCE3A47A 

The encryption is working like this:

 cipher = OpenSSL::Cipher.new('aes-256-cbc')
 cipher.encrypt
 cipher.key = ""ereadz-#{@device_id}-#{@subscriber_email}-#{@device_id}""
 cipher.iv = ""ereadz-#{@device_id}-#{@subscriber_email}-#{@device_id}""

let me know what you'd like to change these to.
 (Greg Baker - Dec 9, 2013)","OK found out from Eldon that encryption occurs on the Epub Server which is Java based. Not sure yet if we can get access to that code base.  (Ramone - Dec 11, 2013)","this has been completely rewritten now. one change is that if u supply a valid device_id, you do not necessarily need to supply platform, client version name etc... you can add any/all of them if they need to be updated.

eg. POST http://staging.mogulview.com/apiv2/subscribers/checkout/731/download?retailer_id=3 (using ramone's creds) (Greg Baker - Dec 13, 2013)","@gregbaker1 @eldonde The clients are going to send the device_id, platform, version, etc each time a book is downloaded. A user could download on multiple devices. Ideally a record should be maintained for each device. But it sounds like there is just one and it is overwritten each time. I'm not sure if this is 100% correct. As far as the API is concerned, it is working correctly and I have therefore accepted. (Ramone - Jan 6, 2014)",,,,,,,,,,,,,,,,,,,Encryption should adhere to the standard. The entire file should not be encrypted,completed,"Encryption key needs to be ""ereadz-{device_id}-{subscriber_email}-{id_from_encryption.xml}""",completed,The device_id above is retrieved from the post parameter. Currently the endpoint returns invalid device id when using something other than the id used to checkout the book. This is incorrect as a book can be downloaded on multiple devices belonging to the user. ,completed
61193286,Mobile Client Update Endpoint,api2,21,"Jan 5, 2014","Jan 11, 2014",feature,1,accepted,"Nov 21, 2013","Jan 6, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/misc/mobile-client-upgrade,https://www.pivotaltracker.com/story/show/61193286,Greg Baker,,,"http://staging.mogulview.com/apiv2/devices/update (Greg Baker - Nov 22, 2013)"
61107708,fix size and colour profile of publication images,"",21,"Jan 5, 2014","Jan 11, 2014",feature,1,accepted,"Nov 20, 2013","Jan 7, 2014",,Ramone,Currently have a script running in staging that is fixing all the image data. Going to take a long time...,https://www.pivotaltracker.com/story/show/61107708,Greg Baker,,,"waiting for maximum image file size for each of 
original, medium (400x600) , mini (200x300)  and thumb (100x150) from Ramone (Greg Baker - Nov 22, 2013)","medium = 200kb
mini = 100kb
thumb = 50kb
currently updating on staging and will be done in a few hours (Greg Baker - Nov 22, 2013)"
56258592,Fix promotions,"",21,"Jan 5, 2014","Jan 11, 2014",feature,3,accepted,"Sep 3, 2013","Jan 7, 2014",,Eldon de Waal,Broken page: http://staging.mogulview.com/admin/promotions/new,https://www.pivotaltracker.com/story/show/56258592,Greg Baker,,,"As discussed, a discount strategy will consist of the following attributes.

percent discount
amount discount
fixed product price
start_date
end_date
does this apply to retail or cost price?
shared_key (a name used by both Magento and MDS to identify the discount strategy)
comment (Easter special etc)
does this apply to book club / single copy sale

When orders are sent or a publication is checked out, if a discount applies, the price needs to be adjusted and saved along with the discount strategy comment in the transaction record. (Greg Baker - Oct 7, 2013)","I've deployed the form that allows you to create discount strategies and apply them to subscriptions or saved searches. I'll add the functionality that makes this all work as the day goes on, but in the meantime you can see the interface by clicking on 'discount strategies' under 'promotions' on the main menu. Only on staging.  (Greg Baker - Oct 10, 2013)","Cool bananas, taking a look (Eldon de Waal - Oct 10, 2013)","Added new strategy...

Completed the form but left out the shared key and the comment

Response: Discount strategy unsuccessfully saved. Shared key can't be blank and Comment can't be blank

Neither of these should be required fields.... (The Shared Key is not used for Subscription fulfilments so cannot be a required field) (Eldon de Waal - Oct 10, 2013)","With Attribute ""For"" type Subscription, make the Subscription selection multi-select please (Eldon de Waal - Oct 10, 2013)","The changes requested have been made and deployed to staging. (Greg Baker - Oct 10, 2013)","This job has been deployed to staging for testing.  (Greg Baker - Oct 11, 2013)","On http://staging.mogulview.com/admin/searches/4/edit the screen is missing all the parameters available for editing (Eldon de Waal - Oct 13, 2013)","Hi Eldon. That page is just for editing the saved search. The edit page for the promotions can be found at: http://staging.mogulview.com/admin/discount_strategies and clicking edit on a promotion. (Greg Baker - Oct 14, 2013)","gonna wait until the ""Fix transactions"" task is completed before I sign this one off (Eldon de Waal - Oct 15, 2013)","The changes to retail/cost price calculations as discussed via skype on 14 Oct have all been applied and pushed to staging.  (Greg Baker - Oct 16, 2013)"
58788206,Fix transactions and reports,"",21,"Jan 5, 2014","Jan 11, 2014",bug,,accepted,"Oct 14, 2013","Jan 7, 2014",,Eldon de Waal,"There are not transactions being reported
e.g. http://mds.mogulview.com/admin/transactions?search%5Border%5D=descend_by_created_at&search%5Bcreated_at_gte%5D=2013-09-01&search%5Bcreated_at_lte%5D=2013-09-30&search%5Btype_equals%5D=&search%5Bretailer_id_equals%5D=&search%5Bpublication_company_id_equals%5D=48&search%5Bcurrency_iso_code_equals%5D=&search%5Bretailer_order_no_like%5D=&commit=Filter",https://www.pivotaltracker.com/story/show/58788206,Greg Baker,,,"Also, currently no Subscription fulfilments are being recorded under transactions. Please give me a call when you start with that since there is some additioanl logic required (Eldon de Waal - Oct 17, 2013)","The transaction search functionality has now been fixed. (Greg Baker - Oct 28, 2013)","Transactions are now created for checked out publications, only when the free reading threshold is reached. This threshold is set on a company level on the company end page. eg. http://staging.mogulview.com/admin/companies/38/edit (Greg Baker - Oct 31, 2013)",,,,,,,,,,,,,,,,,,,,,,,,,"Add new attribute ""Reading progress threshold"" to the company edit form",completed,Record transaction ,completed
60505876,transaction sales price vs cost of sale,"",21,"Jan 5, 2014","Jan 11, 2014",feature,1,accepted,"Nov 11, 2013","Jan 7, 2014",,Eldon de Waal,"Hi Eldon
When looking at a transaction, you can see a sales price and a cost of sales price. The sales price is the price - any relevant discount. The cost of sale is a feature that was partly implemented by Marlin Forbes. Can I remove the cost of sale or would you like to use it for something?",https://www.pivotaltracker.com/story/show/60505876,Greg Baker,,,"sales_price is what is sent from magento (price - any discount)
cost_of_sale is a calculated value (cost price - any discount)
 (Greg Baker - Nov 11, 2013)","sales price sent from Magento already includes discount. Simply record the value sent by Magento. (Eldon de Waal - Nov 11, 2013)","For transaction id 4583, the currency was returned from magento as EUR. However, the currency in the MDS is in NOK. What is the rule for transactions and currencies? (Greg Baker - Nov 19, 2013)","Can i report separate currencies for sales price / cost of sale?  (Greg Baker - Nov 20, 2013)","indeed. The Sales ccy is what ever magento says it is, but the Cost of sale is in the CCY of the Publisher/Distributor as per the product metadata (Eldon de Waal - Nov 20, 2013)","ok, separate currencies are now reported (staging) (Greg Baker - Nov 20, 2013)"
60508128,transaction needs to be created when subscriber checks out publication,"",21,"Jan 5, 2014","Jan 11, 2014",feature,2,accepted,"Nov 11, 2013","Jan 7, 2014",,Eldon de Waal,"set status to pending when the publication is checked out
set status to complete when reading threshold is reached

allow admin/transactions to filter by transaction status",https://www.pivotaltracker.com/story/show/60508128,Greg Baker,,,"Eldon, what do sales_price and cost_of_sale get set to when the publication is checked out / in? (Greg Baker - Nov 14, 2013)","for all subscription borrow the Sale_price is set to ZERO regardless of status i.e. regardless of reading thresholh. For Cost_of_sale it is set to ZERO initially and then updated when the reading threshold is reached. The value when updated it the regular cost price plus any discount strategies on the publication if applicable (Eldon de Waal - Nov 14, 2013)","as discussed, this has been deployed to production for testing.
 (Greg Baker - Nov 21, 2013)"
61393148,fix book club categories and publication feeds ,"",21,"Jan 5, 2014","Jan 11, 2014",bug,,accepted,"Nov 25, 2013","Jan 7, 2014",,Eldon de Waal,"eg http://staging.mogulview.com/book_clubs/7/categories?book_club_id=7&retailer_id=3
http://staging.mogulview.com/book_clubs/10/categories/520/publications?book_club_id=10&category_id=520&retailer_id=3",https://www.pivotaltracker.com/story/show/61393148,Greg Baker,,,"I've removed the Danish subcategories  from both staging and production. (Greg Baker - Jan 7, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,Remove amended Danish categories from product edit dropdown list,completed
62825730,500 Error when trying to checkout a book on staging,"",21,"Jan 5, 2014","Jan 11, 2014",bug,,accepted,"Dec 19, 2013","Jan 7, 2014",,Ramone,"Using anders@ereadz.com:themuppets, http://staging.mogulview.com/subscribers/subscriptions/{subscription_id}/checkouts?retailer_id={retailer_id} gives a 500 Internal Server Error when using the following parameters
subscription_id = 65
retailer_id = 3
publication_id = 7917
identifier = bea9db23a7344d30
platform = android
client_version_name = __VERSION_NAME__
client_version_code = 37
client_timestamp = 2013-12-20T01:42:39
client_locale = en",https://www.pivotaltracker.com/story/show/62825730,Greg Baker,,,"@ramone1 can this be signed off? (Eldon de Waal - Jan 7, 2014)"
61193006,Checkout Publication Endpoint,api2,21,"Jan 5, 2014","Jan 11, 2014",feature,1,accepted,"Nov 21, 2013","Jan 7, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/checkout-publication,https://www.pivotaltracker.com/story/show/61193006,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscribers/checkout/635?identifier=bea9db23a7344d30&retailer_id=3 (Greg Baker - Nov 26, 2013)","using ramone@ereadz.com (Greg Baker - Nov 26, 2013)","changed to
http://staging.mogulview.com/apiv2/subscribers/subscriptions/131/checkout/7914?identifier=bea9db23a7344d30&retailer_id=3 (Greg Baker - Nov 28, 2013)","I suggest you use a single method to generate the publication JSON. We are trying to use a single format across all the endpoints, and it looks like each endpoint is generating it slightly different. Will also be much easier to adapt changes if it is controlled in one place. (Ramone - Nov 28, 2013)","http://staging.mogulview.com/apiv2/subscribers/subscriptions/1/checkout/131?identifier=bea9db23a7344d30&retailer_id=3

Sorry, i was using the subscription id (the link between a book club and a subscriber) as opposed to the subscription id (the book club). fixed now.
 (Greg Baker - Nov 29, 2013)","The subscription_id returned in the checkout_info is the id for the link between the subscriber and a bookclub. I believe you are looking for the book club (also subscription) id. However, you supply this in the url eg ../subscriptions/1/... Is this what you want? Shall i make all of subscription_ids to the value provided in the url? (Greg Baker - Dec 6, 2013)","Yes we need it to be the subscription_id that is in the url (Ramone - Dec 10, 2013)","Some endpoints don't have the value in the URL. Like the Get Checkouts endpoint doesn't have it in the URL but still needs to return publications with the correct subscription id. The concept of a bookclub doesn't exist anymore. We only have subscriptions, so it shouldn't be confusing. (Ramone - Dec 10, 2013)",,,,,,,,,,,,,,,,,,,,Change preview_available_url to preview_download_url,completed,Change publication_info to checkout_info,completed,Language code should be 2 letter codes,completed,"The subscription_id used in the example you posted doesn't match any subscription_id returned by the Get Subscriptions endpoint (""/apiv2/subscribers/subscriptions"").",completed,The subscription_id in the checkout_info doesn't match any subscription_id returned by the Get Subscriptions endpoint. Probably the same problem as previous item.,completed
62772142,Search,api2,22,"Jan 12, 2014","Jan 18, 2014",feature,1,accepted,"Dec 19, 2013","Jan 13, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/search,https://www.pivotaltracker.com/story/show/62772142,Greg Baker,,,"http://staging.mogulview.com/apiv2/search?search=tale&subscription=1&language=en
(use Ramone's credentials to see the checkout_info section) (Greg Baker - Dec 20, 2013)","When using anders@ereadz.com:themuppets with http://staging.mogulview.com/apiv2/search?search=dracula. The first item is returned with the following download url: http://staging.mogulview.com/downloads/17591bdde9d1860c820b2bf9db480b9c43ef217e.epub?1388519395. This URL doesn't work and is different from the one returned by the Get Checkouts endpoint. @gregbaker1  (Ramone - Jan 6, 2014)","I've changed this to return the correct download url, however this will only be displayed if the publication has a checkout record for the authenticated user. The download url will point to the downloads endpoint and will require all the details as per the spec. (Greg Baker - Jan 8, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,500 Internal Server Error - http://staging.mogulview.com/apiv2/search?search=house,completed,The download url returned for checked out books is incorrect. See comment below. Should follow https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/download-checkout,completed
62369772,Get Books,api2,22,"Jan 12, 2014","Jan 18, 2014",feature,1,accepted,"Dec 11, 2013","Jan 13, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/get-books-1,https://www.pivotaltracker.com/story/show/62369772,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscriptions/9/categories/296/publications?retailer_id=3

No checkout_info section as without auth there is no user. (Greg Baker - Dec 12, 2013)","apiv2/subscriptions/1/categories/74/publications?retailer_id=3 is returning checkout_info for Dracula but it's not currently checked out for user ramone@ereadz.com:themuppets @gregbaker1  (Ramone - Dec 20, 2013)","fixed. it was returning it because a checkout existed for the publication. however, the checkout was in state 'in'. i've changed the code to only show checkouts that are currently out.  (Greg Baker - Dec 20, 2013)","When using anders@ereadz.com:themuppets with ""http://staging.mogulview.com/apiv2/subscriptions/1/categories/74/publications?retailer_id=3. The first item is returned with the following download url: ""http://staging.mogulview.com/downloads/17591bdde9d1860c820b2bf9db480b9c43ef217e.epub?1388519395"". This URL doesn't work and is different from the one returned by the Get Checkouts endpoint. @gregbaker1  (Ramone - Jan 6, 2014)","I've changed this to return the correct download url, however this will only be displayed if the publication has a checkout record for the authenticated user. The download url will point to the downloads endpoint and will require all the details as per the spec. (Greg Baker - Jan 8, 2014)",,,,,,,,,,,,,,,,,,,,,,,subscriber_not_in_subscription should just be treated as the no auth case,completed,"""format"" is missing from list of publications returned",completed,Getting 406 for http://staging.mogulview.com/apiv2/subscriptions/1/categories/135/publications?subscription_id=1&retailer_id=3&category_id=74 ,completed,The download url returned for checked out books is incorrect. See comment below. Should follow https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/download-checkout,completed
63458954,Get List of Promotions should work for new device ids,"",22,"Jan 12, 2014","Jan 18, 2014",feature,0,accepted,"Jan 8, 2014","Jan 15, 2014",,Ramone,"If a device_id has been already been used to redeem a promotion, the server should respond with the device_id_already_used error. If a new device_id (that is not in the system) the server should still return the list of promotions. Obviously this means that the new device_id should also be able to redeem the promotion. Now the question is, do you need any additional parameters to add this new device, ie. Platform, Client Version, etc. We could perhaps add this to the Redeem Promotion endpoint.",https://www.pivotaltracker.com/story/show/63458954,Greg Baker,,,"https://sites.google.com/site/emviemwiki/mds/mds-api/p/request-promotions (Ramone - Jan 13, 2014)","As discussed today, as these attributes are not required, i've removed the validations that run when a new device record is created. I've also allowed a new record to be created if it does not exist.  So this should be working now on staging. (Greg Baker - Jan 13, 2014)"
64510312,URGENT: Fulfilment token not working for transaction id=4732   ,"",24,"Jan 26, 2014","Feb 1, 2014",bug,,accepted,"Jan 24, 2014","Jan 27, 2014",,Eldon de Waal,This affects production,https://www.pivotaltracker.com/story/show/64510312,Greg Baker,,,"Pubhub is reporting error code 50015: bookId {[GUID]} is not active.

The current Pubhub import script does not have functionality to update publications. It just skips over them if they already exist in the database. The script needs to be modified to update products for cases like this.
 (Greg Baker - Jan 27, 2014)","Hi Greg, please go ahead and modify the import script to get new and updated records on a daily basis (Eldon de Waal - Jan 27, 2014)"
61193262,Reading Progress Endpoint,api2,24,"Jan 26, 2014","Feb 1, 2014",feature,1,accepted,"Nov 21, 2013","Jan 29, 2014",,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/submit-reading-progress,https://www.pivotaltracker.com/story/show/61193262,Greg Baker,,,"http://staging.mogulview.com/apiv2/subscribers/reading_progress (Greg Baker - Dec 5, 2013)","Just  (Ramone - Jan 7, 2014)","Just need to remember to use a valid checkout id (Greg Baker - Jan 28, 2014)"
64822626,Return correct message when device limit is reached,"",24,"Jan 26, 2014","Feb 1, 2014",feature,1,accepted,"Jan 30, 2014","Jan 30, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/64822626,Greg Baker,,
61675304,Facebook Auth Header and 401 Error,api2,25,"Feb 2, 2014","Feb 8, 2014",feature,1,accepted,"Nov 30, 2013","Feb 3, 2014",,Ramone,All endpoints requiring auth still need to support the custom Facebook header. They must also return a 401 on failure instead of a 400,https://www.pivotaltracker.com/story/show/61675304,Greg Baker,,,"Need to discuss with Ramone the details. (Greg Baker - Dec 18, 2013)","@ramone1 Please could you help us with details on this? (Shaun Richards - Dec 19, 2013)","OK so MDS needs to be able to authenticate users based on a Facebook access token. Currently we hacked this by passing the access token as a Basic Auth password with a prefix eg. mvmfb_{ACCESS_TOKEN}. We would like all MDS endpoints requiring auth to use a custom FACEBOOK-AUTH-TOKEN header. All that would be required is that you make an authorization call to http://test.mogulviewmedia.net/en/api5/user/login (staging) and https://www.ereadz.com/en/api5/user/login (production), with this custom header instead of a basic auth header. (Ramone - Dec 19, 2013)","Any invalid auth credentials should result in a 401. I think Greg was having problems returning a 401. (Ramone - Dec 19, 2013)","@shaunr  (Ramone - Dec 19, 2013)","Thanks Ramone.  (Greg Baker - Dec 19, 2013)","@gregbaker1 The Facebook auth header is is now required. I will be online when you get in the office to discuss how to get this working. (Ramone - Jan 6, 2014)","I'm sorry, I made a mistake in my comment on the the 19th. Here is the spec for authenticating a Facebook user: https://sites.google.com/site/emviemwiki/ereadz-web/api5/facebook-registration-login.  (Ramone - Jan 6, 2014)","So for the Basic Auth case, you use the /api5/user/login endpoint (as usual). But for Facebook users, you would need to use FACEBOOK-AUTH-TOKEN with the Facebook Registration endpoint.  (Ramone - Jan 6, 2014)","As discussed, the basic auth failure will return a 401. The token failure will return a 403. The error returned will in both cases be 'invalid_credentials: null' (Greg Baker - Jan 15, 2014)",,,,,,,,,,,,,,,,,,"Invalid basic auth error is not in the correct format. Should be ""invalid_credentials"": null",completed,"Invalid Facebook token error is in the incorrect format. ""invalid_credentials"": null",completed
64551110,Get Books not returning the same genres as in API1,api2,25,"Feb 2, 2014","Feb 8, 2014",feature,1,accepted,"Jan 27, 2014","Feb 3, 2014",,Ramone,apiv2 uses pagination. The default behaviour was to return 10 items per page. This has been removed and the results are now the same from both APIs.,https://www.pivotaltracker.com/story/show/64551110,Greg Baker,,
64732652,Subscription fulfilment incorrect title is downloaded,"",25,"Feb 2, 2014","Feb 8, 2014",bug,,accepted,"Jan 29, 2014","Feb 3, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/64732652,Greg Baker,,,"Not sure what happened here. I've been through the code and found nothing irregular. Ramone and I ran through the whole process that we suspected the user followed and the result was as expected. Basically, we've been unable to replicate this behaviour. (Greg Baker - Jan 30, 2014)"
64554530,URGENT: DB Query: Get list of all device ID's who have not signed up for the Samsung promotion (and whose device type is on the whitelist),"",25,"Feb 2, 2014","Feb 8, 2014",chore,,accepted,"Jan 27, 2014","Feb 3, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/64554530,Greg Baker,,
64456972,api1 :  /subscribers/book_clubs?retailer_id=3  Do not show subscriptions with attribute Hide = true,api1,25,"Feb 2, 2014","Feb 8, 2014",feature,1,accepted,"Jan 24, 2014","Feb 4, 2014",,Eldon de Waal,"Hi Greg, any chance you could knock this one out for us quickly?",https://www.pivotaltracker.com/story/show/64456972,Greg Baker,,,"Deployed to staging.  (Greg Baker - Feb 3, 2014)","Must return subscriptions that a user is subscribed to even if it is hidden. (Ramone - Feb 4, 2014)"
65183856,As a MDS admin I want to set saved search and subscription simultaneously on a promotion instead of having to choose between them so that a promotion will not apply to all books in a subscription.,functionality,26,"Feb 9, 2014","Feb 15, 2014",feature,1,accepted,"Feb 5, 2014","Feb 10, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/65183856,Greg Baker,,
59970518,Process Kirjavalitis feed,integration,26,"Feb 9, 2014","Feb 15, 2014",feature,3,accepted,"Nov 1, 2013","Feb 10, 2014",,Eldon de Waal,"Otava: is this the same as the previous ticket (57310036)
""Override current ""Price price"" such that ""Price price"" = 2 * Cost price"" ?",https://www.pivotaltracker.com/story/show/59970518,Greg Baker,,,"Eldon, do you know what the SupplyDetail/ProductAvailability codes are? They are numerical like 10 and 21. Random House uses an AvailabilityCode and they look like 'AB' or 'OP'.  Thanks. (Greg Baker - Dec 11, 2013)","This is about a quarter complete, however as the api v2 was a priority, this has not yet been completed.
 (Greg Baker - Dec 18, 2013)","Eldon, please remember to update the wholesale_terms and vat for WSOY, OTAVA, Tammi, Atena and Gummerus. Otherwise the PPI calculations will all get multiplied by 0 and the prices won't make sense. (Greg Baker - Dec 20, 2013)","I've run the feed on staging after copying the ftp folder across from production. It appears that most of the epubs and jpgs are missing so i terminated it early. Please check that all the other details are correct on the imported publications. Once we have the missing media we can simply rerun the script and then set it up as a cron task in production. (Greg Baker - Dec 21, 2013)","Hi Greg, I am struggling to test this. If the epubs and jpegs are missing then that is fine (the publication status will simply not be publishable). The records need to be created against the ONIX feed as we do with Random house. Please process the entire ftp folder as per the in order of ONIX file date ascending and let me know when I can start to test. Prob a good idea to backup the staging DB first... (Eldon de Waal - Jan 7, 2014)","Sure, will rerun the script. (Greg Baker - Jan 7, 2014)","I've backed up the staging database and rerun the script. Let me know if there are any issues. (Greg Baker - Jan 7, 2014)","Description & Short description - Please Use the following tags for this: 

e.g.
<othertext>
<text>Use this text</text>
</othertext> (Eldon de Waal - Jan 7, 2014)","Files not attaching - e.g. 9789510404904 ---> This file exists in the FTP subfolder but has not been attached. Please be sure to process all subfolders when looks for files to attach. (Eldon de Waal - Jan 7, 2014)","I've updated the descriptions and short descriptions. Some of the products don't have the OtherText element, in which case I've just used the TitleText. (Greg Baker - Jan 7, 2014)","The script now looks through all the subfolders, not just the one for the product company. 9789510404904 has now had its epub attached, however the image is nowhere to be found on the server. (Greg Baker - Jan 8, 2014)","For title: http://staging.mogulview.com/admin/ebooks/81780/edit no description is supplied in the feed, when this occurs, please insert the product title as the description long and short (Eldon de Waal - Jan 9, 2014)","No product updates received for Publisher Otava so far. Any reason for this? (Eldon de Waal - Jan 9, 2014)","Product title will now be used as a description in the case of a missing description. I've also fixed the issue with Otava publications.  (Greg Baker - Jan 15, 2014)","Metadata attribute is not populated for title 9789511266143... There are many more without their metadata attribute populated. I am unable to verify correctness of the populated data without this reference. (Eldon de Waal - Jan 22, 2014)","Hi Eldon

I see now that the metadata will help you to verify that the publication was imported correctly. As it was not in the spec, nor
is there a validation by the MDS to have this attribute,  it was not added. The metadata has now been populated.

Greg (Greg Baker - Jan 22, 2014)","The Retail price for product 9789511266143 does not match my calculation. The retail price should be EUR 17.41 such that the cost price ends up as EUR 9.27. I tried to manually in the 17.41 price but then I got an error requesting that the category be added (which is in the feed btw). On adding the category and the new price, I get an error ""Unexpected problem encountered"" (Eldon de Waal - Jan 23, 2014)","Some titles are still showing the old localised categories e.g. 9789511271871 (Eldon de Waal - Jan 23, 2014)","Hi Eldon. I've addressed the issues above. Please can you confirm that the prices are being calculated correctly for publications from WSOY, Tammi, Atena or Gummerus. Thanks. (Greg Baker - Jan 27, 2014)","Hi greg, the Otava pricing is now correct. Thank you.  Looking at product 9789510393017 now. The descriptions are empty (in the feed too) so as per our previous agreement, you should populate the descriptions with the title name. Also for this product, the PPI cost price is not being calculated... i.e. it is ZERO. will test a few more products... (Eldon de Waal - Jan 27, 2014)","Please can you use this updated category mapping table for this feed. In the 4th collumn I've also added in the tag name i.e. for each category, please insert the corresponding tag in the Tag attribute (same as is being done with Random House). Tks (Eldon de Waal - Jan 27, 2014)","Looking at title 9789513174422... The files are not attached and yet they are in the FTP folder. the retail price of EUR23- is incorrect. The Metadata attribute (price type code = 02) is showing this as EUR19- (Eldon de Waal - Jan 27, 2014)","I've fixed the issues with the pricing and descriptions. I'll address the remaining issues first thing in the morning.
 (Greg Baker - Jan 27, 2014)","Hi Eldon

I have a few questions about the updated category mapping table. Currently the feed looks for the  MainSubject with scheme identifier 66. It then takes the first 2 digits of the SubjectCode and maps it to the MDS category_id. 

For the new category mapping table, should I use all of the subject code digits (including decimals) as this data appears to be there. Also, what is the ""for"" column for? A few of the category mapping ids are missing. What do you wish to do for these? Also, a lot of the tags are things like 'of', 'or' or 'and'. Do you wish me to add these as tags?

Thanks
Greg  (Greg Baker - Jan 28, 2014)","Hi Greg

For the new cat map table:
1. Use all the subject code digits including decimals
2. The ""for"" col says ""for reference only"" i.e. it is not used, it is a translation of the finish cat names and since none of us speak Finnish it is a v useful reference.
3. I've attached a new version with missing MDS_cat_ids completed.
4. For the tags, each string (i.e. the entire cell contents) is a single tag. Therefore, words like or, and etc. are part of the tag. (Eldon de Waal - Jan 28, 2014)","Thanks Eldon. This is very helpful. (Greg Baker - Jan 28, 2014)","Hi Eldon. I've added the category and tag logic and imported these attributes. However some tags are showing encoding issues, eg. 9789511262688. Is it possible to send me the category mapping csv data using utf-8 or an encoding type that fully supports the characters used? Thanks Eldon.  (Greg Baker - Feb 4, 2014)",Otava pricing,completed,WSOY pricing,completed,Tammi,completed,Gummerus,completed
65348934,Sample link of products in publications feed is broken ,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 7, 2014","Feb 10, 2014",,Eldon de Waal,e.g. http://mds.mogulview.com/admin/ebooks/7913 we have this link coming in the feed: http://mds.mogulview.com/publications/9781499991031/sample,https://www.pivotaltracker.com/story/show/65348934,Greg Baker,,,"Deployed to staging
 (Greg Baker - Feb 10, 2014)","Retailer authentication is being asked for on hitting that download link... this link should be a public url
 (Eldon de Waal - Feb 10, 2014)"
65532864,Not responding: http://mds.mogulview.com/admin/ebooks,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 10, 2014","Feb 11, 2014",,Eldon de Waal,Unexpected problem encountered,https://www.pivotaltracker.com/story/show/65532864,Greg Baker,,,"Hi Eldon. This is working for me. I think that this issue was related to server load, but I'll have more info for you later this week. (Greg Baker - Feb 10, 2014)"
65191012,Edit Subscription - Publication tab - Page error,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 5, 2014","Feb 11, 2014",,Eldon de Waal,e.g. http://mds.mogulview.com/admin/book_clubs/1/publications,https://www.pivotaltracker.com/story/show/65191012,Greg Baker,,,"pls deploy fix to prod (Eldon de Waal - Feb 11, 2014)","Sure, this is now in live (Greg Baker - Feb 11, 2014)"
65546924,Show both workflow and checkout state on transaction details page.,"",26,"Feb 9, 2014","Feb 15, 2014",feature,1,accepted,"Feb 11, 2014","Feb 11, 2014",,Eldon de Waal,"On the transaction details page, rename Status to Workflow status and add a column Checkout state.",https://www.pivotaltracker.com/story/show/65546924,Greg Baker,,
65554030,fix issue with transaction summary,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 11, 2014","Feb 11, 2014",,Eldon de Waal,app crashes when clicking on a company,https://www.pivotaltracker.com/story/show/65554030,Greg Baker,,
65451084,resolve immediate bugs with transaction listings,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 10, 2014","Feb 11, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/65451084,Greg Baker,,,"TTD currency still an issue e.g. transaction id = 2279 (Eldon de Waal - Feb 11, 2014)","this one may have slipped through after i ran the update script and before i deployed the code to get the currency correctly. i tested it and it's fetching the currency correctly for this transaction, so i've updated it and let's just keep an eye on it for the next few hours. (Greg Baker - Feb 11, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,fix TDD currency issues,completed,"Filter: state -> add in ""all"" option",completed,Insert column showinglatest reading progress against each transaction,completed,"Subscription transactions have the wrong  ""type""... should be ""Checkout publication""... but showing as ""Purchase""",completed
65462784,set up rake to process the epubDirect feed on ftp,"",26,"Feb 9, 2014","Feb 15, 2014",chore,,accepted,"Feb 10, 2014","Feb 12, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/65462784,Greg Baker,,
65704512,Only return relevant samples ,"",26,"Feb 9, 2014","Feb 15, 2014",feature,1,accepted,"Feb 13, 2014","Feb 13, 2014",,Greg Baker,Samples should not be returned if the related publications have been removed. ,https://www.pivotaltracker.com/story/show/65704512,Greg Baker,,
64995964,On hold: Switch live MDS elib feed to use live account,"",26,"Feb 9, 2014","Feb 15, 2014",chore,,accepted,"Feb 3, 2014","Feb 14, 2014",,Eldon de Waal,Please wait until I give you the go ahead on this,https://www.pivotaltracker.com/story/show/64995964,Greg Baker,,,"Greg, please can you confirm that nothing is going to break when we switch over. tks (Eldon de Waal - Feb 4, 2014)","Staging environment has been updated with the live Elib settings. (Greg Baker - Feb 12, 2014)","Production has been updated with live Elib settings
 (Greg Baker - Feb 14, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,test on staging first,not completed
65459474,K-feed: Files not attaching on some records,"",26,"Feb 9, 2014","Feb 15, 2014",bug,,accepted,"Feb 10, 2014","Feb 15, 2014",,Eldon de Waal,"Files exist in the ftp folder for this product but they have not been attached to the publication record e.g. 9789511280378. It could be that since the product status is ""forthcoming"", this step is skipped, although this is incorrect. i.e. a file sent must always be attached to the publication record regarding of the status of the product

another example
e.g. 9789520110604",https://www.pivotaltracker.com/story/show/65459474,Greg Baker,,,"I've updated this script to process files regardless of their status. Anything other than an 'active' publication will have it's under_review attribute set to true. Unfortunately I was unable to find the publications mentioned above.  (Greg Baker - Feb 14, 2014)"
64997874,critical issues addressed,"",27,"Feb 16, 2014","Feb 22, 2014",release,,accepted,"Feb 3, 2014","Feb 16, 2014",,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64997874,,,
65619632,create a very basic dashboard,"",27,"Feb 16, 2014","Feb 22, 2014",feature,1,accepted,"Feb 12, 2014","Feb 17, 2014",,Eldon de Waal,available at http://mds.mogulview.com/dashboard,https://www.pivotaltracker.com/story/show/65619632,Greg Baker,,,"please can you break down the Redeemed promotions by language? (Eldon de Waal - Feb 12, 2014)","also, pls can in the total number of Users (Eldon de Waal - Feb 12, 2014)","Added them in. (Greg Baker - Feb 12, 2014)","not seeing this yet...: please can you break down the Redeemed promotions by language?
 (Eldon de Waal - Feb 12, 2014)","Hi Eldon. Unfortunately there is not an accurate way to break the promotions down by language. I've updated the code to allow us to get better metrics and deployed to staging. I'll get this tested and deploy asap to production. It will mean that our data for languages breakdown will only start from the time we deploy the code to production. (Greg Baker - Feb 12, 2014)","Hi Eldon. The promotions by language are in production now.  (Greg Baker - Feb 14, 2014)","Hi Greg. Thanks for adding this in. However, the number dont tally up. The sum of the languages should totoal up to the value for the Main Dashboard ""Redeemed promotions"". i.e. the 4th value on the page (Eldon de Waal - Feb 15, 2014)","Hi Eldon. Yes, getting them to add up would be ideal. Unfortunately we only started collecting language statistics on the 12'th of Feb.  (Greg Baker - Feb 16, 2014)"
64992596,Investigate switching myLibrary call to MDS,"",27,"Feb 16, 2014","Feb 22, 2014",chore,,accepted,"Feb 3, 2014","Feb 18, 2014",,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64992596,Eldon de Waal,,,"Moving MyLibrary will require a detailed discussion and co-ordination between all our developers. This requires a planning session and associated task list. Broadly, the following is required:
1. Sync all Users between Magento and the MDS
2. Sync all products that have MyLib records but do not exist in the MDS
3. Export the non-MDS download links to the MDS
4. Create the relevant api/s in the MDS for the clients to connect to
5. Go-live co-ordination (Eldon de Waal - Feb 5, 2014)"
65966116,Prepare Notifications Specification,"",27,"Feb 16, 2014","Feb 22, 2014",feature,0,accepted,"Feb 18, 2014","Feb 18, 2014",,Eldon de Waal,https://sites.google.com/site/emviemwiki/mds/push-notifications/business-logic-specification,https://www.pivotaltracker.com/story/show/65966116,Eldon de Waal,,
65966080,Not responding: http://mds.mogulview.com/admin/book_clubs/5/subscriptions,"",27,"Feb 16, 2014","Feb 22, 2014",bug,,accepted,"Feb 18, 2014","Feb 19, 2014",,Eldon de Waal,"Related to the 2 deleted SubscriberSamples, which is related to the 2 deleted publications",https://www.pivotaltracker.com/story/show/65966080,Greg Baker,,
65950668,Cost price issue,"",27,"Feb 16, 2014","Feb 22, 2014",bug,,accepted,"Feb 17, 2014","Feb 20, 2014",,Eldon de Waal,"Several WSOY publications have zero cost price. eg. 9789510376232
changing the retail price, should calculate and update the cost price",https://www.pivotaltracker.com/story/show/65950668,Greg Baker,,,"Hi Eldon
This has been fixed and will now work consistently for all publications regardless of their source. Let me know once you have confirmed and I'll deploy to production. (Greg Baker - Feb 20, 2014)"
66128470,Promo subscribers: Change Current period end date,"",27,"Feb 16, 2014","Feb 22, 2014",chore,,accepted,"Feb 20, 2014","Feb 20, 2014",,Eldon de Waal,"We want to extend all promo subscriptions to expire no earlier than 1st March 2014. I.e. For Promo subscriptions, that expire before 1St of March pls change the ""current period end date"" and ""End Date"" tot the 1st of March.",https://www.pivotaltracker.com/story/show/66128470,Greg Baker,,
65951520,Upgrade ruby,"",27,"Feb 16, 2014","Feb 22, 2014",feature,3,accepted,"Feb 18, 2014","Feb 21, 2014",,Alex Veldtman,"**See for [https://github.com/edewaal/MDS/pull/6](https://github.com/edewaal/MDS/pull/6) upgrade progress**

There are many reasons this is needed but to name a few:

* Technical drift is occurring with no test suite
* Gems that could help push out features faster are not supported by current ruby/rails version
* Code becomes unmaintainable since there is no confidence to refactor, because of no tests
* Current ruby/rails versions are no longer security patched!

I mean “tests” as the unit/functional kind, not cukes that are better suited for acceptance.

Helpful links:

* On upgrading ruby/rails: http://edgeguides.rubyonrails.org/upgrading_ruby_on_rails.html
* Syntax changes: http://www.darkridge.com/~jpr5/2012/10/03/ruby-1.8.7-1.9.3-migration/
* Encoding tricks: https://developer.uservoice.com/blog/2012/03/04/how-to-upgrade-a-rails-2-3-app-to-ruby-1-9-3/
* WRT ruby 2.0 upgrade http://djellemah.com/blog/2013/02/27/rails-23-with-ruby-20/
",https://www.pivotaltracker.com/story/show/65951520,Greg Baker,Simon van Dyk,,"* Breaks when trying to update a publication: http://localhost:3000/admin/ebooks/8257/edit
  * NoMethodError (undefined method `add_record_to_target_with_callbacks' for #<Array:0x007fc5e0d4a960>):
  * Dunno what’s going on… try https://www.ruby-forum.com/topic/195050 ???

 (Simon van Dyk - Feb 18, 2014)","This is fixed by patching Active Record as follows:

Reach into the deep dark abyss that is your gem directory, for example:
/Users/simon/.rbenv/versions/2.1.0/gems/activerecord-2.3.17/lib/active_record/nested_attributes.rb

In the conditional on line 359, replace 

```ruby
association.send(:add_record_to_target_with_callbacks, existing_record) unless association.loaded?
```
with this: 

```ruby
if association.is_a? Array
  association.each {|a| a.send(:add_record_to_target_with_callbacks, existing_record) unless association.loaded?}
else
  association.send(:add_record_to_target_with_callbacks, existing_record) unless association.loaded?
end
``` (Simon van Dyk - Feb 20, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,Upgrade ruby 1.8.7 -> 1.9.3-p484,completed,Upgrade ruby ‘~> 2.0',completed,Do some manual testing,completed
65967198,Install & configure testing tools,"",27,"Feb 16, 2014","Feb 22, 2014",feature,3,accepted,"Feb 18, 2014","Feb 21, 2014",,Simon van Dyk,"**See for [https://github.com/edewaal/MDS/pull/6](https://github.com/edewaal/MDS/pull/6) upgrade progress**

### Testing divided into acceptance tests, and functional/unit tests.

Acceptance tests are the ‘cukes’, or, cucumber tests and exist solely for the customer for proof of a working product.
Functional and unit tests ensure code reliability and code quality, and will be written with the following tools:

* rspec and capybara
* poltergeist and phantomjs (headless javascript execution environment)
* factory_girl for factories

#### Resources

* [Unit testing rails 2.x](http://guides.rubyonrails.org/v2.3.11/testing.html)
* [Setting up rspec for rails 2.x](https://github.com/dchelimsky/rspec/wiki/rails)
* [Fixtures](http://ar.rubyonrails.org/classes/Fixtures.html)
* [Cucumber](https://github.com/cucumber/cucumber/wiki/Ruby-on-Rails)",https://www.pivotaltracker.com/story/show/65967198,Simon van Dyk,Greg Baker,,"Maybe we need to think about the trade off of writing tests in rspec VS test unit. Test unit is the same across rails versions, so we won’t need to rewrite the tests (change syntax) — Suggestion by Chris Spring

Maybe we should write important unit tests in test unit, and integration tests in rspec (makes the amount of tests we need to change after upgrade to rails 3 fewer)

@gregbaker1 Thoughts? (Simon van Dyk - Feb 20, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,Install & Configure test unit - salvage current unit tests :: Run rake test:units,completed,Install & Configure test unit - salvage current functional unit tests :: Run rake test:functionals,completed,Install & Configure rspec - salvage current tests,completed,Install & Configure cucumber,completed,Install & Configure simplecov to report code coverage,completed,Install poltergeist,completed
64993002,Prepare subscription dashboard mockup,manager views subscription dashboard,28,"Feb 23, 2014","Mar 1, 2014",chore,,accepted,"Feb 3, 2014","Feb 26, 2014",,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64993002,Eldon de Waal,,
66756160,Change email account,"",29,"Mar 2, 2014","Mar 8, 2014",chore,,accepted,"Mar 3, 2014","Mar 3, 2014",,Eldon de Waal,"file:  lib/bcc_all_mail.rb 

change -->  
BCC_ALL_EMAILS_TO = ""eldon@emviem.com""

to --->
BCC_ALL_EMAILS_TO = ""admin@ereadz.com""",https://www.pivotaltracker.com/story/show/66756160,Greg Baker,,
66399142,Customer Ebook download errors,"",29,"Mar 2, 2014","Mar 8, 2014",bug,,accepted,"Feb 25, 2014","Mar 3, 2014",,Simon van Dyk,"Customers are reporting that they are unable to download ebooks.


*Acceptance criteria is the task list below",https://www.pivotaltracker.com/story/show/66399142,Eldon de Waal,,,"@eldonde Hey Eldon, please add as much useful information as possible here so we can recreate and find a fix. (Simon van Dyk - Feb 25, 2014)","several Users are having download issues when they Borrow a book
[24/02/2014 14:27:28] Eldon de Waal: I have a feeling it is related to server load too
[24/02/2014 14:27:39] Eldon de Waal: is it possible to check the logs for this UserS
[24/02/2014 14:27:41] Eldon de Waal: anngn77@gmail.com
[24/02/2014 14:28:10] Eldon de Waal: She tried to download: ""Hvordan vinne venner"" but says she gets an error on download
[24/02/2014 14:28:22] Greg Baker: ok, let me have a look
[24/02/2014 14:28:45] Eldon de Waal: tks
[24/02/2014 14:41:48] Greg Baker: Eldon, we have no checkout record for this publication.
[24/02/2014 14:41:59] Greg Baker: I'm not sure how she could download it without that record
[24/02/2014 14:42:12] Greg Baker: did she say when this happened?
[24/02/2014 14:42:58] Eldon de Waal: The Helpdesk email was sent at 22/02/2014 13:38
[24/02/2014 14:43:27] Greg Baker: did she give any more info?
[24/02/2014 14:44:02] Eldon de Waal: ..get the error message ""not possible to complete the download. An error occurred"" when I try to borrow a book.
[24/02/2014 14:44:12] Greg Baker: haha, thanks
[24/02/2014 15:03:48] Greg Baker: Eldon, we can't find any record of anything failing when she did this. Perhaps we can ask her to try again?
[24/02/2014 15:14:43] Eldon de Waal: dude, this is not the first User with this issue
[24/02/2014 15:15:09] Greg Baker: can anybody recreate it while testing?
[24/02/2014 15:16:10] Eldon de Waal: nope
[24/02/2014 15:16:34] Eldon de Waal: and pervious I have told Users to try and and same thing
[24/02/2014 15:18:55] Greg Baker: i'll try and figure it out, but it's a bit hard with nothing to go on
[24/02/2014 15:19:15] Eldon de Waal: I understand, maybe you can put is some kind of logging
[24/02/2014 15:19:46] Greg Baker: i'll add some more logging around this. it's just really strange as we would expect some kind of exception.
[24/02/2014 15:19:55] Eldon de Waal: indeed
[24/02/2014 15:20:13] Greg Baker: thanks for this info, sorry i can't give u an answer for her
[24/02/2014 15:21:00] Greg Baker: if she does try again and it fails, it would be really helpful to know that. at least then we have a known reproducable problem (Eldon de Waal - Feb 25, 2014)","Customer came back after trying again and reported that the issue persists (Eldon de Waal - Feb 25, 2014)","Having troubles installing honeybadger (an error reporting service) client in the app. Have emailed support team.
As soon as it’s on we should catch the error and have a better idea of how to fix. (Simon van Dyk - Feb 25, 2014)","This looks to be a case of an incorrectly formed download url being used in certain cases on apiv1. 

for example, this is what is being used:
http://mds.ereadz.com/subscribers/subscriptions/10334/checkouts/download

but it should be:
http://mds.ereadz.com/subscribers/subscriptions/10334/checkouts/:id/download where :id is the required checkout id


 (Greg Baker - Feb 28, 2014)","This has now been resolved. (Greg Baker - Mar 3, 2014)"
67000128,URGENT: Publisher unable to log in,"",29,"Mar 2, 2014","Mar 8, 2014",bug,,accepted,"Mar 5, 2014","Mar 6, 2014",,Eldon de Waal,Account is: larekare@gmail.com,https://www.pivotaltracker.com/story/show/67000128,Greg Baker,,,"I suspect that this was an issue related to server load. It appears to be an intermittent problem. The upgrade currently being performed will help address these issues, but we are going to need to start thinking about scalability. (Greg Baker - Mar 5, 2014)"
66234490,Feature: Push notifications ground work,notifications,30,"Mar 9, 2014","Mar 15, 2014",feature,3,accepted,"Feb 21, 2014","Mar 10, 2014",,Simon van Dyk,"### High level goal

*As a user I want to* receive pertinent push notifications *in order to* be reminded about things that need my attention.

**Go to `/admin/push_notifications` (for now, it will be moved) to view the progress**",https://www.pivotaltracker.com/story/show/66234490,Simon van Dyk,,,"@gregbaker1 Can we deliver this ticket and open a new one that states the minimum working functional push notification? I think this ticket is done.

i.e. *As a user* I want to create a push notification to be sent once off to some users devices (by filter) *so that I can* send them important reminders/information. (Simon van Dyk - Feb 24, 2014)","@gregbaker1 Merge when you’re back at work :) https://github.com/edewaal/MDS/pull/10 (Simon van Dyk - Feb 26, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,Lay ground work,completed,Architect,completed
66936296,As an admin I want to send a batch of push notifications by using a web service,"",30,"Mar 9, 2014","Mar 15, 2014",feature,2,accepted,"Mar 5, 2014","Mar 10, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/66936296,Simon van Dyk,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Heroku app exposing an api that will send push notifications to devices,completed,API and logic to do the sending using GCM,completed,Integration testing between systems with a device,completed
66936346,As an admin I want to send a batch of push notifications to subscribers that have subscriptions that are close to ending,"",30,"Mar 9, 2014","Mar 15, 2014",feature,2,accepted,"Mar 5, 2014","Mar 10, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/66936346,Simon van Dyk,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"In current MDS, collect subscribers, their subscriptions and construct the messages",completed,Call the new notification web service (heroku app) with the constructed messages to send the notifications,completed
67099216,Find subscriber devices,"",30,"Mar 9, 2014","Mar 15, 2014",feature,1,accepted,"Mar 7, 2014","Mar 10, 2014",,Greg Baker,"/device/registrations now allows searching by a subscriber email account. Previously it simply listed devices, but there are now a quarter of a million of them and it's no longer practical.",https://www.pivotaltracker.com/story/show/67099216,Greg Baker,,
67529788,URGENT: Fulfilment failed on order id = 8164,"",30,"Mar 9, 2014","Mar 15, 2014",bug,,accepted,"Mar 13, 2014","Mar 14, 2014",,Eldon de Waal,"When calling the MDS fulfilment url I get :
<response>
<status>Entity not found</status>
</response>

Please can you investigate?

",https://www.pivotaltracker.com/story/show/67529788,Greg Baker,,,"Hi Eldon. Can you please give me the URL that you used to get this response? Thanks. (Greg Baker - Mar 14, 2014)","This is the URL but it seems to be working now:
http://mds.mogulview.com/orders/92ba321a-aad6-11e3-afe0-14dae9b856bb
Did you do something? (Eldon de Waal - Mar 14, 2014)","from ELIB:

Dear retailers,

We have experienced an interruption of services at Elib, from yesterday March 13 at approximately 5 pm, until today March 14 at 09.20 am. During this period, our system has not been able to register orders from retailers. We deeply regret this incident and any inconvenience that it has caused. We are investigating the cause and will provide more information during the day.

Best regards

Py Söderström (Eldon de Waal - Mar 14, 2014)","Thanks Eldon. That's good to know. (Greg Baker - Mar 14, 2014)"
67908264,URGENT: clean up the transactions for 2013,"",32,"Mar 23, 2014","Mar 29, 2014",chore,,accepted,"Mar 20, 2014","Mar 24, 2014",,Eldon de Waal,"Attached are 6 csv files. The first column refers to the MDS transaction id, the second (where appropriate) refers to the value that the record needs to be changed to. Please let me know if you have any issues.

The action for each files is in the file name.

PLEASE: Backup the DB first",https://www.pivotaltracker.com/story/show/67908264,Greg Baker,Simon van Dyk,," (Eldon de Waal - Mar 20, 2014)"
68271044,Output YTD transactions for 2014 pls,"",32,"Mar 23, 2014","Mar 29, 2014",chore,,accepted,"Mar 26, 2014","Mar 27, 2014",,Eldon de Waal,Please send me the full transactions list for the year so far... same format as previously. tks,https://www.pivotaltracker.com/story/show/68271044,Greg Baker,,,"@gregbaker1 , pls can you action this asap. (Eldon de Waal - Mar 27, 2014)","ok, my bad, pls can you insert the Reading progress against each record. tks (Eldon de Waal - Mar 27, 2014)","Hi Greg, pls can you run this one again for me with reading progress? @gregbaker1  (Eldon de Waal - May 13, 2014)"
68432178,Update transactions for 2014 as per report for publishers,"",33,"Mar 30, 2014","Apr 5, 2014",chore,,accepted,"Mar 28, 2014","Mar 31, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/68432178,Simon van Dyk,Greg Baker,Eldon de Waal
68426366,"Transactions: for Checkout transactions, record the date on which the reading threshold was reached / same date as the status change from Pending to Active.","",33,"Mar 30, 2014","Apr 5, 2014",feature,1,accepted,"Mar 28, 2014","Apr 1, 2014",,Eldon de Waal,The reason we need this is so that we know when the publisher was paid for the transaction. ,https://www.pivotaltracker.com/story/show/68426366,Greg Baker,,
68629526,Delete transactions with duplicate Checkout Ids,"",33,"Mar 30, 2014","Apr 5, 2014",chore,,accepted,"Apr 1, 2014","Apr 1, 2014",,Eldon de Waal,"these are the ones I have found:
Checkout_id = 
2535
2993
2446
4287
2748
3607
3098
921
2543
932
2995
1000
3250
1133
4084
1143
2689
1177
2775
1306
3072
1404
3185
1463
3309
1531
3928
1693
2513
1736
2579
1804
2744
1809
2765
1829
2938
1867
3065
1955
3095
2024
3115
2038
3214
2143
3307
2188
3518
2362
3711
2411
4028
2426
2512
4086",https://www.pivotaltracker.com/story/show/68629526,Eldon de Waal,,
65970224,Upgrade rails 2.x to rails 3.0.x,"",33,"Mar 30, 2014","Apr 5, 2014",feature,8,accepted,"Feb 18, 2014","Apr 1, 2014",,Simon van Dyk,"#### Helpful links

Oh snap! There’s a rails cast for that!
* http://railscasts.com/episodes/282-upgrading-to-rails-3-1

Official/Helpful guides:
* http://guides.rubyonrails.org/3_0_release_notes.html#upgrading-to-rails-3

More: 
* http://railsapps.github.io/updating-rails.html
* http://x-aeon.com/wp/2012/12/19/migrating-big-applications-from-rails-2-to-rails-3/#MRAFR2TR3_First

Suppress Honeybadger reports in test env:
* http://docs.honeybadger.io/article/46-disabling-honeybadger-for-tests-and-specs",https://www.pivotaltracker.com/story/show/65970224,Simon van Dyk,,,"Eldon has updated the DNS to point staging.mogulview.com to point to the new hetzner machine where staging app has moved to. Once the DNS records have propagated and staging.mogulview.com can be accessed from the web this ticket is ‘complete’. (Simon van Dyk - Apr 1, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,"Update soon to be deprecated view helpers that include concat (form_for, form_tag etc)",completed,Rewrite routes in new syntax,completed,"Upgrade gems (this is going to be hairy, I tried it once with no avail)",completed,Update deprecated ERB calls in the views,completed,"Setup test frameworks (rspec, cucumber with capybara & poltergeist)",completed,Refactor .error_messages method into partial,completed,Refactor pagination from will_paginate => kaminari,completed,Replace search logic with Ransack,completed,Fix html escaping in simple-navigation gem here: http://localhost:3000/admin/book_clubs/1/checkouts,completed,Remove monkey patches and RAILS2 annotations from source,completed,Replace occurrences of “search[attr_predicate]” in named routes in the views and javascript & even navigation & scripts???,completed
67385560,"In order to ensure a healthy MDS upgrade, I want high use actions to be tested","",33,"Mar 30, 2014","Apr 5, 2014",feature,5,accepted,"Mar 12, 2014","Apr 1, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/67385560,Simon van Dyk,Greg Baker,,"These tests can be run in the development environment with `bundle exec rspec spec`.

This is just the beginning as we’re covering the endpoints with the most throughput according to new relic. We will eventually have integration tests for the key user stories, and this will give us assurance of code quality, sustainability and maintainability. This will also be measured systematically with codeclimate.com after the upgrade is complete to illustrate the security patches, quality improvements and speed improvements. (Simon van Dyk - Apr 1, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,BookClubsController # index,completed,Subscribers::SubscriberController # subscriptions,completed,MobileApi::UpdatesController # index,completed,PartnerCodesController # promotion,completed
68701796,Process Awaiting Approval publications,"",33,"Mar 30, 2014","Apr 5, 2014",chore,,accepted,"Apr 2, 2014","Apr 2, 2014",,Eldon de Waal,"For distributor = ELIB and Random House where publication status is ""Awaiting Approval"" and the record is complete (i.e. no missing pricing info, images or file) SET publication_status to ""Published""",https://www.pivotaltracker.com/story/show/68701796,Greg Baker,Simon van Dyk,
68702142,Fix incorrect transaction data,"",33,"Mar 30, 2014","Apr 5, 2014",chore,,accepted,"Apr 2, 2014","Apr 3, 2014",,Eldon de Waal,"For date range: 1-jan-14 to 31-Mar-14

Query 1 (Bazar cost price fix):

For {publication_company_name}=""Bazar Forlag"" and {type}=""CheckoutPublication""
result set = 153
Set {cost_of_sale}  to  ""33.00""
records changed = 96

Query 2 (Font cost price fix):

For {publication_company_name}=""Font Forlag"" and {type}=""CheckoutPublication""
result set = 137
Set {cost_of_sale}  to  ""33.00""
records changed = 104

Query 3 (Press cost price fix):

For {publication_company_name}=""Forlaget Press"" and {type}=""CheckoutPublication""
result set = 65
Set {cost_of_sale}  to  ""33.00""
records changed = 40


Query 4 (Kagge cost price fix):

For {publication_company_name}=""Kagge Forlag"" and {type}=""CheckoutPublication""
result set = 143
Set {cost_of_sale}  to  ""33.00""
records changed = 107



Query 5 (Pantagruel cost price fix):

For {publication_company_name}=""Pantagruel Forlag"" and {type}=""CheckoutPublication""
result set = 135
Set {cost_of_sale}  to  ""33.00""
records changed = 97


Query 6 (Trude cost price fix):

For {publication_company_name}=""Trude Helén Hole"" and {type}=""CheckoutPublication""
result set = 26
Set {cost_of_sale}  to  ""30.00""
records changed = 5


Query 7 (Piratforlaget cost price fix):

For {publication_company_name}=""Piratforlaget"" and {type}=""CheckoutPublication""
result set = 97
Set {cost_of_sale}  to  {cost_of_sale as per publication record}
records changed = 41


Query 8 (Lille Manne cost price fix):

For {publication_company_name}=""Forlaget Lille Måne"" and {type}=""CheckoutPublication""
result set = 123
Set {cost_of_sale}  to  ""33.00""
records changed = 123",https://www.pivotaltracker.com/story/show/68702142,Greg Baker,,
68702066,Process distributors,"",33,"Mar 30, 2014","Apr 5, 2014",chore,,accepted,"Apr 2, 2014","Apr 4, 2014",,Eldon de Waal,"For Distributor = Epub Direct and Pubhub and Kirjavalytus please update our catalogue such that they are fulling up to date. Set publication status to ""Approved"" where the record is complete and the current status is Awaiting approval",https://www.pivotaltracker.com/story/show/68702066,Greg Baker,,,"@simonvandyk , @gregbaker1  still seeing a few hundred Pubhub titles which are not Published (Eldon de Waal - Apr 2, 2014)","also not Seeing any changes for epubdirect. The most recent MDS activity for them as 21st Feb... (Eldon de Waal - Apr 2, 2014)","Pubhub titles are now correctly published (Greg Baker - Apr 4, 2014)","ok, so epubDirect looks good now. The K-feed titles are a mess. The files have not been attached to the ""updated"" publication records and the FTP folder is empty of assets... (Eldon de Waal - Apr 4, 2014)","For the K-feed, all the assets that were imported were removed from the ftp folder. eg. 9789510365472. If the publication is not marked by the publisher as 'active', the script will change the publication status to 'Under review'. I checked the PublicationStatus codes of a few publications in this state and they all had PublicationState = 02, which means they are forthcoming titles.  (Greg Baker - Apr 4, 2014)","I think the issue is that the files have been imported but they were NOT attached to the publication records. (Eldon de Waal - Apr 4, 2014)"
68785462,Staging server missing publications,"",33,"Mar 30, 2014","Apr 5, 2014",bug,,accepted,"Apr 3, 2014","Apr 4, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/68785462,Simon van Dyk,,,"Greg copied them over from production. (Simon van Dyk - Apr 3, 2014)"
68178480,Update Get List of Promotions,"",33,"Mar 30, 2014","Apr 5, 2014",feature,1,accepted,"Mar 25, 2014","Apr 4, 2014",,Cavan O'Connor,Add in additional parameter and error response. Info on wiki: https://sites.google.com/site/emviemwiki/mds/mds-api/p/request-promotions,https://www.pivotaltracker.com/story/show/68178480,Greg Baker,Simon van Dyk,,"this has been deployed to staging (Greg Baker - Mar 26, 2014)"
68273002,Update Redeem Promotion,"",33,"Mar 30, 2014","Apr 5, 2014",feature,1,accepted,"Mar 26, 2014","Apr 4, 2014",,Cavan O'Connor,Add in error response. Info on wiki: https://sites.google.com/site/emviemwiki/mds/mds-api/p/redeem-promotion,https://www.pivotaltracker.com/story/show/68273002,Greg Baker,,
68785404,304 not modified response for checkouts not working on staging,"",33,"Mar 30, 2014","Apr 5, 2014",bug,,accepted,"Apr 3, 2014","Apr 4, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/68785404,Greg Baker,Simon van Dyk,
68865258,Fix duplicate PPI records,"",34,"Apr 6, 2014","Apr 12, 2014",bug,,accepted,"Apr 4, 2014","Apr 9, 2014",,Eldon de Waal,"9788248914730
9788281693029
9788282056571
9788282056540
9788293336099",https://www.pivotaltracker.com/story/show/68865258,Greg Baker,,,"Hi Eldon. Thanks for pointing these out to me. For records like 9788281693029; they have 2 ppis that differ only in the model and countries attribute (show in the data below). Should these be considered duplicates, or are they valid? Thanks.

[
    [0] #<Ppi:0x7f8aa09d2f10> {
                    :id => 88026,
                 :model => ""Wholesale"",
              :currency => ""NOK"",
                 :price => 99.0,
            :cost_price => 0.0,
             :countries => nil,
        :publication_id => 55644,
            :created_at => Mon, 17 Mar 2014 15:21:27 SAST +02:00,
            :updated_at => Mon, 17 Mar 2014 15:21:27 SAST +02:00
    },
    [1] #<Ppi:0x7f8aa09d2e70> {
                    :id => 88027,
                 :model => ""Agency"",
              :currency => ""NOK"",
                 :price => 99.0,
            :cost_price => 0.0,
             :countries => ""World"",
        :publication_id => 55644,
            :created_at => Mon, 17 Mar 2014 15:21:27 SAST +02:00,
            :updated_at => Mon, 17 Mar 2014 15:21:27 SAST +02:00
    }
]
 (Greg Baker - Apr 4, 2014)","For that record, the second ppi is the correct one... but a bigger question is how on earth it ended up with two ppi's. there is no way on the front-end to add in two and these titles were created manually by the Publisher (Eldon de Waal - Apr 4, 2014)","There is a process that runs to ensure all the PPI's are present and correct. It noticed that this publication has a 'is_wholesale' attribute set to nil. In Ruby, nil is evaluated as false. As this meant that the publication could not have a model of wholesale, it created a new PPI record using the Agency model, set the countries attribute to 'World' and used the price data from the original record. In this case, would it have been correct to remove the original PPI, even if it was manually created by a publisher?  (Greg Baker - Apr 4, 2014)","yes, it would have been correct to remove the first ppi...  Here is what happens: Publishers are dumb. In Norway, new titles are always Agency model, but the publishers dont select that when creating the PPI record. As admin I always check for this and manually set it to Agency model. So i guess, ""the Process"" is the issue here. Rather, do not amend the ppi record automatically, instead if there is an issue that is spotted then we need to be ""Informed"" (Eldon de Waal - Apr 4, 2014)","Hi Eldon. I've identified a further 3 publications that have duplicate PPIs. All of these were created last year. Could you please let me know how to proceed. 
Thanks.

9788275475624
9788275475648
9788275475655 (Greg Baker - Apr 4, 2014)","9788275475624 - delete instance with price = 149
9788275475648 - delete instance with price 199
9788275475655 - delete instance with price 199

tks (Eldon de Waal - Apr 4, 2014)","Hi @eldonde 

I deleted the first 2:
9788275475624 - delete instance with price = 149
9788275475648 - delete instance with price 199

But for the third, neither has a price or cost_price of 199.
( 9788275475655 - delete instance with price 199 )

Please let me know which one should be removed?

Here are the two ppis in question:

```
[
    [0] #<Ppi:0x7fc7780510a8> {
                    :id => 75492,
                 :model => ""Agency"",
              :currency => ""NOK"",
                 :price => 99.0,
            :cost_price => 59.4,
             :countries => ""World"",
        :publication_id => 2728,
            :created_at => Tue, 19 Nov 2013 17:26:03 SAST +02:00,
            :updated_at => Fri, 29 Nov 2013 11:59:41 SAST +02:00
    },
    [1] #<Ppi:0x7fc778051008> {
                    :id => 76933,
                 :model => ""Agency"",
              :currency => ""NOK"",
                 :price => 249.0,
            :cost_price => 149.4,
             :countries => ""World"",
        :publication_id => 2728,
            :created_at => Wed, 04 Dec 2013 15:10:44 SAST +02:00,
            :updated_at => Wed, 04 Dec 2013 15:10:44 SAST +02:00
    }
]
``` (Simon van Dyk - Apr 7, 2014)","my bad, keep the one with NOK 99- (Eldon de Waal - Apr 7, 2014)","No worries, have the initial publication’s ppis been 'cleaned up'? 

I’m going to think about this some more before jumping on a solution, since we want the process to be as automated as possible. (Simon van Dyk - Apr 7, 2014)","I found another one:  9788230211663 both are the same, so delete either one pls. (Eldon de Waal - Apr 7, 2014)","9788281692503 -> delete duplicate ppi with Zero cost price (Eldon de Waal - Apr 7, 2014)","Hi Eldon, I’ve cleaned those 2 up. (Simon van Dyk - Apr 8, 2014)","great tks (Eldon de Waal - Apr 8, 2014)"
69181066,URGENT: pls create ppi for 9788230211205,"",34,"Apr 6, 2014","Apr 12, 2014",bug,,accepted,"Apr 9, 2014","Apr 9, 2014",,Eldon de Waal,"Retail price: NOK 119 Agency World

I am unable to create this via the frontend",https://www.pivotaltracker.com/story/show/69181066,Greg Baker,,
69164568,Patch servers that are vulnerable to OpenSSL vulnerability,"",35,"Apr 13, 2014","Apr 19, 2014",chore,,accepted,"Apr 9, 2014","Apr 14, 2014",,Simon van Dyk,"**This is a very serious issue**, since if someone exploited the vulnerability and obtained the X.509 certificate secret keys, they can perform a “man-in-the-middle” attack on the servers without us knowing, in which case they have access to everything.

The way forward is first to upgrade openssl on the servers so no one is able to obtain the encryption keys or content, then to investigate how much further we want to look at this issue. The best information I’ve found on this is on http://heartbleed.com/ where they describe 3 levels of information that could’ve been obtained if attacked. First, the actual encryption keys (X.509 secret keys), then user credentials of the system/app, then misc information about the server.

Another step that I think we should at least make an effort to look at is reissuing of the certificate, since we don’t know if they certificate’s key may have been compromised, so our users can’t trust eReadz unless they know the certificate has been re-issued. This means that even if the encryption key was leaked, it is old after the reissue and cannot be used for a MITM attack.",https://www.pivotaltracker.com/story/show/69164568,Simon van Dyk,Eldon de Waal,Greg Baker,"ereadz.com server fixed
Wess to contact Eldon about mds.mogulview.com ( server needs restart, preferably update and restart ) (Greg Baker - Apr 9, 2014)","Thanks to Wess, he was able to patch mds.mogulview.com without a restart! (Simon van Dyk - Apr 9, 2014)","Other actions that can be taken:
* Invalidate session keys and cookies
* Change admin passwords

Although from my knowledge I don’t believe the mds would’ve been target to an attack, this is just a precaution.

I would, however, urge that we get a new certificate, this allows eReadz users to ‘trust’ eReadz again.

This is a very good discussion related to the required action and implication of the bug in such a widespread application as OpenSSL. http://security.stackexchange.com/questions/55075/does-heartbleed-mean-new-certificates-for-every-ssl-server/55087#55087 (Simon van Dyk - Apr 9, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,Reissue certificate,not completed
69164216,Add option to disregard partner codes device model numbers,"",35,"Apr 13, 2014","Apr 19, 2014",feature,2,accepted,"Apr 9, 2014","Apr 14, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/69164216,Greg Baker,,,"This has now been deployed to production. (Greg Baker - Apr 10, 2014)"
69328666,Create a device with model_name attribute when redeeming or listing promotions,"",35,"Apr 13, 2014","Apr 19, 2014",feature,1,accepted,"Apr 11, 2014","Apr 14, 2014",,Ramone,,https://www.pivotaltracker.com/story/show/69328666,Greg Baker,,,"deployed to production
 (Greg Baker - Apr 11, 2014)"
69603964,URGENT: dont return disabled subscriptions in Get subscriptions call on API2,"",35,"Apr 13, 2014","Apr 19, 2014",bug,,accepted,"Apr 16, 2014","Apr 16, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/69603964,Greg Baker,Simon van Dyk,,"Hi Eldon, this should be fixed now. Could you confirm? (Simon van Dyk - Apr 16, 2014)","staging or prod or both?
 (Eldon de Waal - Apr 16, 2014)","Production (Simon van Dyk - Apr 16, 2014)"
70065086,URGENT: Edit subscriber details,"",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 23, 2014","Apr 24, 2014",,Eldon de Waal,"I am unable to change the email address and acount for http://mds.mogulview.com/sub2scribers/15031/edit

Pls can you change fredrik.lagman@gmail.com to visaman84@gmail.com",https://www.pivotaltracker.com/story/show/70065086,Greg Baker,,
70146258,"(MDS-Bug) If a search is deleted and it is associated with a promotion, remove the promotion as well","",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 25, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70146258,Simon van Dyk,Greg Baker,
70146274,(Upgrade-Bug) Pagination broken on apiv2/subscribers/checkouts,"",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 25, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70146274,Simon van Dyk,Greg Baker,
70146276,(Upgrade-Bug) Update the way audits work on publications,"",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 25, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70146276,Simon van Dyk,Greg Baker,
70146286,(Upgrade-Bug) Rails callback change from method to macro style,"",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 25, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70146286,Simon van Dyk,Greg Baker,
70146294,(Upgrade-Bug) Publication type columns not showing on /admin/companies page,"",36,"Apr 20, 2014","Apr 26, 2014",bug,,accepted,"Apr 25, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70146294,Simon van Dyk,Greg Baker,
67385076,"In order to ensure a healthy MDS upgrade, I want high use actions to be tested","",36,"Apr 20, 2014","Apr 26, 2014",feature,5,accepted,"Mar 12, 2014","Apr 25, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/67385076,Simon van Dyk,Greg Baker,,"These tests require what are called `factories` for each model in the database along with their required relationships. This data required for a test can be simulated, so initially the first few tests will take longer than usual, then they will speed up as the factories would already be available for future tests. (Simon van Dyk - Apr 1, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,DevicesController :: register,completed,Subscribers::Subscriptions::CheckoutsController # index,completed,Subscribers::SamplesController # index,completed,Retailers::Subscribers::SubscriptionsController # index,completed
70154720,"AS PUBLISHER: Remove ""Save this search"" feature from http://mds.mogulview.com/admin/ebooks  /aaudiobooks","",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"Apr 25, 2014","Apr 28, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70154720,Greg Baker,,
70154774,"AS Publisher: Remove the ""Actions"" Feature from http://mds.mogulview.com/admin/ebooks /audiobooks","",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"Apr 25, 2014","Apr 28, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70154774,Greg Baker,,
70155014,AS PUBLISHER user: Clean up http://mds.mogulview.com/admin/transactions,"",37,"Apr 27, 2014","May 3, 2014",feature,1,accepted,"Apr 25, 2014","Apr 28, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70155014,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Hide/remove -> Purchased By: {},completed,Hide-remove -> Download token: {},completed,Hide-remove -> Reading progress column,completed,Hide-remove -> Company from the Filter options,completed
70346466,3.2 TESTING: Unable to create subscriber,"",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"Apr 29, 2014","Apr 29, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70346466,Greg Baker,Simon van Dyk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unable to create a subscriber via API,not completed,Unable to create a subscriber via Admin console,not completed
70357396,Facebook token auth not working on api 1,"",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"Apr 29, 2014","Apr 29, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/70357396,Greg Baker,,
70350054,TESTING: Unable to remove a subscriber,"",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"Apr 29, 2014","Apr 29, 2014",,Simon van Dyk,"App fails when showing a subscriber that has subscriptions, or clicking the ‘add subscription’ button when editing a subscriber ",https://www.pivotaltracker.com/story/show/70350054,Simon van Dyk,,,"Subscriptions were not showing up too, that is fixed along with this bug fix.
 (Simon van Dyk - Apr 29, 2014)"
70566564,SEVERE: Production server compromised and used as proxy for illegal german content,"",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"May 2, 2014","May 2, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70566564,Simon van Dyk,Greg Baker,,"This is dealt with as per email to eReadz. (Simon van Dyk - May 2, 2014)"
70566488,Disabled subscriptions being served to mobile devices on production,"",37,"Apr 27, 2014","May 3, 2014",bug,,accepted,"May 2, 2014","May 2, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70566488,Greg Baker,Simon van Dyk,
70423922,3.2 TESTING: Cannot checkout a publication,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"Apr 30, 2014","May 8, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70423922,Simon van Dyk,Greg Baker,,"This is caused by incorrect setup of epub drm and watermarking server on the development machine
 (Simon van Dyk - May 2, 2014)","@gregbaker1 let’s test this with the android device and close the ticket? (Simon van Dyk - May 6, 2014)"
70926062,Upgrade Bug: Cannot create a publisher with a primary user,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"May 8, 2014","May 8, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70926062,Greg Baker,Simon van Dyk,
70942996,Upgrade bug: routing error when editing a publication,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"May 8, 2014","May 9, 2014",,Simon van Dyk,"The (unavoidable) rewriting of the routes.rb file has left us with a broken route here and there, this one is proving particularly difficult to hunt down.",https://www.pivotaltracker.com/story/show/70942996,Greg Baker,Simon van Dyk,
71008002,Upgrade bug: cannot create a new subscriber,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"May 9, 2014","May 9, 2014",,Simon van Dyk,"POST /retailers/subscribers
with
```
parameters =  {""first_name""=>""Kevin"", ""last_name""=>""JouPiesang"", ""email""=>""ramone+100@ereadz.com"", ""account""=>""ramone+100@ereadz.com”}
```

Fails with 401
",https://www.pivotaltracker.com/story/show/71008002,Simon van Dyk,Greg Baker,
71025588,Upgrade bug: Authentication for retailers and subscribers not working on certain endpoints,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"May 9, 2014","May 9, 2014",,Simon van Dyk,"GET /retailers/subscribers/:id

where :id is an email",https://www.pivotaltracker.com/story/show/71025588,Simon van Dyk,Greg Baker,
71030738,Missing styling on partner code form buttons,"",38,"May 4, 2014","May 10, 2014",bug,,accepted,"May 9, 2014","May 9, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71030738,Simon van Dyk,,
71121752,Monthly checkouts calculated incorrectly,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"May 12, 2014","May 12, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/71121752,Greg Baker,,
70926556,api2 -> Get subscriptions endpoint,"",39,"May 11, 2014","May 17, 2014",feature,1,accepted,"May 8, 2014","May 12, 2014",,Eldon de Waal,"Please add in the following fields to the data returned

Added to the Subscription info block for each subscription-->
---> Current period end-date <---
---> Remaining borrows in the current period <---

",https://www.pivotaltracker.com/story/show/70926556,Greg Baker,,,"This change has been made on the development branch. (Greg Baker - May 12, 2014)"
70347834,3.2 TESTING: Error loading page: http://development.mogulview.com/admin/book_clubs/1/subscriptions,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"Apr 29, 2014","May 12, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70347834,Simon van Dyk,,
70926000,Upgrade testing for MDS (manual testing using test lodge): create MDS test suite,"",39,"May 11, 2014","May 17, 2014",feature,3,accepted,"May 8, 2014","May 14, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/70926000,Greg Baker,Simon van Dyk,
66368850,Upgrade rails 3.0.x to rails 3.1.x to rails 3.2.x,"",39,"May 11, 2014","May 17, 2014",feature,8,accepted,"Feb 24, 2014","May 14, 2014",,Simon van Dyk,"Railscasts:

3.0 -> 3.1: http://railscasts.com/episodes/282-upgrading-to-rails-3-1?autoplay=true
and http://railscasts.com/episodes/279-understanding-the-asset-pipeline

3.1 -> 3.2: http://railscasts.com/episodes/318-upgrading-to-rails-3-2",https://www.pivotaltracker.com/story/show/66368850,Simon van Dyk,,,"The current state of the upgrade is live on staging.mogulview.com, pending the propagation of the DNS records :)

Once the task list has been completed, user testing will begin in another ticket, then once staging is running smoothly we can plan the deployment of the upgrade to production (and possibly discuss the move of the production server to the more powerful hetzner machine). (Simon van Dyk - Apr 1, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,Rewrite deprecated AR queries,completed,Upgrade MDS dependencies (ruby gems),completed,Update jammit to asset pipeline (can be delayed),completed,Fix broken image paths & jqueryui stylesheets,completed,Saved search functionality update from search logic to ransack,completed,Fix navigation error,completed
71304356,Generate current transactions report for 2014,"",39,"May 11, 2014","May 17, 2014",chore,,accepted,"May 14, 2014","May 14, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71304356,Greg Baker,Simon van Dyk,
71301810,Upgrade rails 3.2 to latest security patch,"",39,"May 11, 2014","May 17, 2014",chore,,accepted,"May 14, 2014","May 14, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71301810,Greg Baker,Simon van Dyk,
71307414,Please delete these transactions from the DB,"",39,"May 11, 2014","May 17, 2014",chore,,accepted,"May 14, 2014","May 14, 2014",,Eldon de Waal,"Transaction ID's:
164174
163659
163660
7854
7855
7856",https://www.pivotaltracker.com/story/show/71307414,Greg Baker,Simon van Dyk,
71121184,Upgrade bug: Subscriber detail modal not showing,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"May 12, 2014","May 14, 2014",,Simon van Dyk,"Recreate:

* Go to http://development.mogulview.com/admin/book_clubs/1/subscriptions
* Click on one of the table rows

(nothing happens, when in fact a modal should appear)

See http://mds.mogulview.com/admin/book_clubs/1/subscriptions for working version.",https://www.pivotaltracker.com/story/show/71121184,Simon van Dyk,,
71136148,Upgrade bug: cannot purchase a book,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"May 12, 2014","May 14, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71136148,Greg Baker,Simon van Dyk,,"Working for iOS, Ramone thinks android is failing because he checks mime-type. (Simon van Dyk - May 12, 2014)","This ticket is pending Ramone’s test of our fix (Simon van Dyk - May 12, 2014)"
71391838,Honey badger error reporting not working,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"May 15, 2014","May 15, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71391838,Simon van Dyk,,
71459630,Pagination bug,"",39,"May 11, 2014","May 17, 2014",bug,,accepted,"May 16, 2014","May 16, 2014",,Simon van Dyk,"Breaks on endpoint: `book_clubs/:book_club_id/categories/:category_id/publications`

See
```
http://mds.ereadz.com/book_clubs/10/categories/803/publications?book_club_id=10&category_id=803&retailer_id=3```
 to recreate",https://www.pivotaltracker.com/story/show/71459630,Simon van Dyk,,
71556990,Deploy latest ruby (2.1.2) and audiobooks fix to production,"",40,"May 18, 2014","May 24, 2014",chore,,accepted,"May 19, 2014","May 19, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71556990,Simon van Dyk,Greg Baker,
71217234,Unable to upload mp3 file to audiobooks record,"",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 13, 2014","May 19, 2014",,Eldon de Waal,"http://development.mogulview.com/admin/audiobooks/2539/files   
----->
Unable to complete your requested action.
Unexpected problem encountered",https://www.pivotaltracker.com/story/show/71217234,Greg Baker,Simon van Dyk,,"still an issue for me -->  http://development.mogulview.com/admin/audiobooks/2539 (Eldon de Waal - May 14, 2014)","Still not working... pls test on Development before submitting the task (Eldon de Waal - May 14, 2014)","Hi Eldon, we have found the issue, email syntax had changed from the rails upgrade that we had to address. Please confirm this is working now. (Simon van Dyk - May 14, 2014)","Still not working. the page now saves. BUT no file ends up getting attached (Eldon de Waal - May 14, 2014)","Ok we will look into this again first thing tomorrow (Simon van Dyk - May 14, 2014)","Hi Eldon, the final issue has been addressed.

Greg has fixed multiple bugs that became visible from your report, thank you.

We will deploy this to production on Monday morning, as gems and the database had to be updated so in the interest of a stable system over the weekend we think this is the best choice.

In the mean time please test on development.mogulview.com, which is the new staging server. (Simon van Dyk - May 16, 2014)","Awesome. Tks for the update.

Indeed, i agree, rather deploy on Monday.

Have a good weekend. 

E


Sent from Samsung Mobile (Eldon de Waal - May 16, 2014)","tested. success. pls deploy to live (Eldon de Waal - May 19, 2014)","Deployed to production*

Please let us know if there are anymore issues (Simon van Dyk - May 19, 2014)"
71561182,URGENT PRODUCTION BUG: Subscribers not being subscribed,"",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 19, 2014","May 19, 2014",,Eldon de Waal,"Via Admin, I am unable to add a subscription to a subscriber",https://www.pivotaltracker.com/story/show/71561182,Greg Baker,Simon van Dyk,,"Hi Eldon,

From a quick test it seems to be working on development, can you please provide some more information about what happens on production?
 (Simon van Dyk - May 19, 2014)","here is the screen after adding Classic reads to this User (Eldon de Waal - May 19, 2014)","Thanks Eldon.

We’ve tested the fix on development and it seems to be working, we’ve already deployed to production. (Simon van Dyk - May 19, 2014)"
71136430,"Reading progress: MDS is not saving/storing the full timestamp... hours, minutes, seconds are missing","",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 12, 2014","May 19, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/71136430,Greg Baker,,,"Eldon, we do store the full timestamp. Where would you like it to be displayed?  (Greg Baker - May 13, 2014)","On this screen for each record the date value should include the exact timestamp:  http://development.mogulview.com/admin/book_clubs/1/reading_progresses?checkout_id=671 (Eldon de Waal - May 13, 2014)","Oh i see. ok, we've updated the code and it should work from now. (Greg Baker - May 13, 2014)"
71298366,Saved searches from rails 2 don’t work on current production,"",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 14, 2014","May 20, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/71298366,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Backup searches table,not completed,Write & run script to change search logic predicates to ransack predicates,not completed,Test,not completed
71743528,search box missing in /device/registrations,"",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 21, 2014","May 21, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/71743528,Greg Baker,Simon van Dyk,
71561556,Error on page http://development.mogulview.com/admin/book_clubs/1/reading_progresses?checkout_id=268,"",40,"May 18, 2014","May 24, 2014",bug,,accepted,"May 19, 2014","May 21, 2014",,Eldon de Waal,,https://www.pivotaltracker.com/story/show/71561556,Greg Baker,Simon van Dyk,
65091064,Move staging environment to it's own server,"",40,"May 18, 2014","May 24, 2014",chore,,accepted,"Feb 4, 2014","May 22, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/65091064,Greg Baker,,
67014558,MDS servers - Identify servers used by IP address,"",40,"May 18, 2014","May 24, 2014",chore,,accepted,"Mar 6, 2014","May 22, 2014",,Eldon de Waal,"Please can you send me a list of server IP addresses which the MDS currently relies on. We also need to discuss moving the MDS staging to a new box and I'd like to hear your thoughts on the @Greg/@Simon.

**Servers used:**
Production: 176.9.70.210
Production db: db1.emviem.com -> 176.9.70.208
Staging: 176.9.70.209
Staging db: localhost
",https://www.pivotaltracker.com/story/show/67014558,Simon van Dyk,,,"This ticket seems to be going stale? (Simon van Dyk - Apr 9, 2014)","Well, I am waiting on this. We need to define our server setup going forward such that I can cancel un-used boxes (Eldon de Waal - Apr 9, 2014)","I suppose the upgrade also affects the list (Simon van Dyk - Apr 9, 2014)","So far I can identify 3 that are used - see description for the list (Simon van Dyk - May 22, 2014)","Hi @eldonde 

See the servers ip addresses listed in the description. Everything as far as we know is running on those 3 boxes. (Simon van Dyk - May 22, 2014)"
71925930,Provide book database integration documentation,book database integration,40,"May 18, 2014","May 24, 2014",chore,,accepted,"May 23, 2014","May 23, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/71925930,Eldon de Waal,,,"https://sites.google.com/site/emviemwiki/mds/norwegian-book-database (Eldon de Waal - May 23, 2014)"
64995088,Refine audiobook requirments,"",40,"May 18, 2014","May 24, 2014",chore,,accepted,"Feb 3, 2014","May 23, 2014",,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64995088,Eldon de Waal,,
68353384,Enforce Shelf space limit,"",41,"May 25, 2014","May 31, 2014",bug,,accepted,"Mar 27, 2014","May 27, 2014",,Eldon de Waal,"@greg, pls review the logic here. The Shelf space limit needs to be strictly enforced. i.e. no matter what, if the limit is 1 then their can only be 1 title Borrowed at any given time.",https://www.pivotaltracker.com/story/show/68353384,Greg Baker,,
72096672,I want to see more meaningful tooltips,publisher,41,"May 25, 2014","May 31, 2014",feature,1,accepted,"May 27, 2014","May 27, 2014",,Simon van Dyk,"As per anders request

View page /admin/transactions and mouse over the icons for the new tooltips.",https://www.pivotaltracker.com/story/show/72096672,Simon van Dyk,,
71135752,Monthly Borrow limit not respected,"",41,"May 25, 2014","May 31, 2014",bug,,accepted,"May 12, 2014","May 28, 2014",,Eldon de Waal,"Works ok on iOS. On Android, when I go over the monthly borrow limit, the Borrow request is still being honoured and the book downloads to the device. However, when I call the get_checkouts, only the original valid checkouts are there (which is correct).",https://www.pivotaltracker.com/story/show/71135752,Greg Baker,,,"Checkouts over and above the Monthly limit are are Successful. This is wrong behaviour. The Checkout needs to fail and return the relevant message (Eldon de Waal - May 27, 2014)"
71136164,Device limit not being respected,"",41,"May 25, 2014","May 31, 2014",bug,,accepted,"May 12, 2014","May 28, 2014",,Eldon de Waal,"It appears that the MDS is not validating the device limit on Checkout of a book, but rather only when the User calls get_checkouts....",https://www.pivotaltracker.com/story/show/71136164,Greg Baker,,,"I set Classic Reads to Device limit=1, I can still Borrow from 2 devices tested on development (Eldon de Waal - May 27, 2014)","SURPRISE!!!!!!!  With device limit on Classic Reads set to 1, I Borrow from a device -> SUCCESS. I then Borrow from a second device -> Max device limit reached -> SUCCESS....   I then go back to the original device and Borrow another title -> Max device limit reached -> FAIL (Eldon de Waal - May 28, 2014)"
71120946,Device registration against User subscription,"",41,"May 25, 2014","May 31, 2014",feature,3,accepted,"May 12, 2014","May 28, 2014",,Eldon de Waal,Register the device against the relevant User subscription and NOT against the User,https://www.pivotaltracker.com/story/show/71120946,Greg Baker,,,"For User = mds-test@ereadz.com subscribed to classic Reads and English Premium. I Borrow a book each on a different device against Classic Reads. No borrows on English Premium. Yet I see on the MDS backend that the User has two devices registerd against English Premium (Eldon de Waal - May 27, 2014)","Hi Eldon. Unfortunately we do not have a UI to show which device is registered with which subscription. Currently the system simply shows all devices a user has registered. (Greg Baker - May 27, 2014)"
72247824,I want to be able to add new publishers,"admin, publisher experience",42,"Jun 1, 2014","Jun 7, 2014",feature,2,accepted,"May 29, 2014","Jun 2, 2014",,Greg Baker,"This is now working, but in great need a UI upgrade.",https://www.pivotaltracker.com/story/show/72247824,Greg Baker,,
72681476,URGENT uPICK Denmark go live: Set Updated_date on collection to today,"",42,"Jun 1, 2014","Jun 7, 2014",chore,,accepted,"Jun 5, 2014","Jun 5, 2014",,Eldon de Waal,"Please can you set for updated_date to {{today}} where Language = Danish AND where imprint = either ""Gyldendal"" OR ""Lindhardt og Ringhof""

This will then add these titles to the MDS-Magento feed for today and allow us to update Magento to data-sync with MDS. Go live is tmrw and Anders would like everything ready to go today.

Tks",https://www.pivotaltracker.com/story/show/72681476,Greg Baker,,,"I've updated the updated_at attribute to today for all publications that are part of the 'eREADZ - uPick - Dansk' subscription. This is all publications that are part of the 'Dan - Gyldendal <70' and 'Dan - Lindhardt<70' saved searches plus 3 manually added publications. (Greg Baker - Jun 5, 2014)","Hi greg. Thanks but that wont work. Your query fails to update records removed from that subscription.

Pls run my query rather.

Tks


Sent from Samsung Mobile (Eldon de Waal - Jun 5, 2014)","done (Greg Baker - Jun 5, 2014)","tks @gregbaker1  (Eldon de Waal - Jun 5, 2014)"
72335320,Validate correct functioning of reading progress,"",42,"Jun 1, 2014","Jun 7, 2014",chore,,accepted,"May 30, 2014","Jun 6, 2014",,Alex Veldtman,,https://www.pivotaltracker.com/story/show/72335320,Greg Baker,,
72248084,I want the transaction listing to show the most recent first,"admin, publisher experience",42,"Jun 1, 2014","Jun 7, 2014",feature,0,accepted,"May 29, 2014","Jun 6, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/72248084,Greg Baker,,,"On staging. Waiting for another issue to be resolved before deploying to production. (Simon van Dyk - Jun 2, 2014)"
72248142,I do not want to be able to cancel transactions because this is for admins ,"publisher, publisher experience",42,"Jun 1, 2014","Jun 7, 2014",feature,0,accepted,"May 29, 2014","Jun 6, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/72248142,Simon van Dyk,,
72247168,I want the UI to be clear and understandable,"publisher, publisher experience",42,"Jun 1, 2014","Jun 7, 2014",feature,1,accepted,"May 29, 2014","Jun 6, 2014",,Greg Baker,,https://www.pivotaltracker.com/story/show/72247168,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,What is the 'P' in the heading?,completed,Things need to aligned,completed,Icons need to be obvious or replaced by labels,completed
72247854,I want to be able to add new ebooks and audiobooks so that they can be purchased,"publisher, publisher experience",45,"Jun 22, 2014","Jun 28, 2014",feature,5,accepted,"May 29, 2014","Jun 27, 2014",,Greg Baker,Pubhub and Elib feeds are now working.,https://www.pivotaltracker.com/story/show/72247854,Greg Baker,Simon van Dyk,,"On create new ebook record on development::::: Author name not saved : Duplicate PPI record created :  Page error on Promotions tab : Page error on Subscriptions tab (Eldon de Waal - Jun 2, 2014)","The MDS all feed is still incorrect where the audiobook we just imported is coming throguh with 2 ppis records (the f-end shows only one). Therefore the DB is still incorrect. e.g. for title 9781419164279
 ""supply"": [
                {
                    ""model"": ""Wholesale"",
                    ""currency"": ""NOK"",
                    ""price"": ""0.0"",
                    ""cost_price"": ""0.0"",
                    ""territories"": null
                },
                {
                    ""model"": ""Agency"",
                    ""currency"": ""NOK"",
                    ""price"": ""0.0"",
                    ""cost_price"": ""0.0"",
                    ""territories"": ""World""
                }
            ], (Eldon de Waal - Jun 25, 2014)","Hi Eldon,

We’ve looked into this issue and applied a quick fix for now. We will revisit this after we have editing publications working. I’ve confirmed it creates a single ppi for a new publication. Please let me know if you uncover any other issues.

Simon (Simon van Dyk - Jun 26, 2014)","Hi Simon

Unfortunately for the title I gave as an example the feed is still showing two ppi records: You can test this yourself in Postman using:  http://development.mogulview.com/retailers/publications/all?per_page=100&page=1&since=2014-06-24T00:01:00Z&until=2014-06-25T23:59:59Z (Eldon de Waal - Jun 26, 2014)","Hi Eldon, sorry I forgot to clean up the existing publication’s ppis.

I’ve hit the end point and the ppi looks good to me, please confirm? (Simon van Dyk - Jun 27, 2014)"
73710966,I want a few changes to the design,"",45,"Jun 22, 2014","Jun 28, 2014",feature,2,accepted,"Jun 23, 2014","Jun 27, 2014",,Simon van Dyk,"When editing an ebook we need

1. stying for errors (submit a blank form to see a list of validation errors)

2. active tab - the tabs “metadata, files, drm settings, promotions” the one with an “active” class need to be highlighted in some way

We get a missing image error - some svg icon - please ask us about this?",https://www.pivotaltracker.com/story/show/73710966,Marie Beetge,Greg Baker,Simon van Dyk,"You guys just need to make sure the ""active"" class is added to the <a> on the active tab. Let me know if you have any trouble! (Marie Beetge - Jun 23, 2014)","Cool thanks Marie (Simon van Dyk - Jun 23, 2014)","Added the error styling on the inputs: http://take.ms/E4oJ1 (Marie Beetge - Jun 23, 2014)","Marie please look at how the field_with_errors breaks the styling  (Simon van Dyk - Jun 23, 2014)","Hey Marie, please check the styling for these description inputs - after the field_with_errors div is added they become smaller and not full width like they are initially. (think that class just needs ”inline” or something like the last issue. (Simon van Dyk - Jun 23, 2014)","Cool that's fixed and pushed up Simon! (Marie Beetge - Jun 24, 2014)","Hey Marie, the Currency field in the filter, on the transactions page has a different size font. Also I’ve added some stuff to shame.css.sass (Simon van Dyk - Jun 24, 2014)","Cool, thanks Simon!
 (Marie Beetge - Jun 24, 2014)","Hey Simon, I have pushed up some new styling for that page! (Marie Beetge - Jun 25, 2014)","Hey Marié, check these screen shots could you please set the input fields to have the same width? (Simon van Dyk - Jun 27, 2014)","Hi Marié, this image is an admin editing an ebook, see the company field shows up when you’re an admin and is misbehaving :) (Simon van Dyk - Jun 27, 2014)","I have puse that up Simon! I think we should start a new ticket if possible for the next week. (Marie Beetge - Jun 27, 2014)","Great thanks Marié, yeah we should, let’s work off this if there’s anything else before the end of the day, from Monday I’ll make a new one. This stuff isn’t super urgent. (Simon van Dyk - Jun 27, 2014)",,,,,,,,,,,,,,, stying for errors (submit a blank form to see a list of validation errors),completed,"active tab - the tabs “metadata, files, drm settings, promotions” the one with an “active” class need to be highlighted in some way",completed,form input fields wrapped in “fields_with_errors” needs to be styled as the user entered something incorrectly,completed,Style New ebook form,completed,Currency Input styling wrong,completed,New Region form styling,completed,Add styling to eBook-item page,completed,Widths of Account fields ,completed,Edit publication select width,completed
74049318,I want a few design touch ups,"",47,"Jul 6, 2014","Jul 12, 2014",feature,0,accepted,"Jun 27, 2014","Jul 7, 2014",,Simon van Dyk,,https://www.pivotaltracker.com/story/show/74049318,Marie Beetge,Greg Baker,Simon van Dyk,"Hey Marie, editing a subscription can you align the input fields like the did for the others?

View in views/admin/book_clubs/_form.html.haml (Simon van Dyk - Jun 27, 2014)","Hey Marie, please can you apply some magic to the new report form, too.

View in views/admin/reports/_form.html.haml (Simon van Dyk - Jun 27, 2014)","Same for promotion! (“Discount Strategy”) (Simon van Dyk - Jun 27, 2014)","Hey Marie:

This page: http://development.mogulview.com/admin/companies/48
is the admin’s view of a publisher’s details; their sale terms for their publications, and some stats about how many publications exist to be sold in each currency (background info).

Is there anything you could do to this page? It’s important this information is communicated clearly in this interface - pls grab me if you don’t understand the meaning of the data ito a publisher I’ll sort you out. (Simon van Dyk - Jul 4, 2014)",,,,,,,,,,,,,,,,,,,,,,,,(admin) Align form fields: login as admin -> subscriptions tab -> “edit” any subscription,completed,(admin) Sort out new report form,completed,(admin) Align form fields for new promotion (under “Discount Strategies” tab),completed,(admin) Publisher show page (http://development.mogulview.com/admin/companies/48),not completed
64562522,Modify PubHub import script,integration,47,"Jul 6, 2014","Jul 12, 2014",feature,1,rejected,"Jan 27, 2014",,,Eldon de Waal,The current Pubhub import script does not have functionality to update publications. It just skips over them if they already exist in the database. The script needs to be modified to update products for cases like this.,https://www.pivotaltracker.com/story/show/64562522,Greg Baker,,,"I've reimported Pubhub data on staging. If this is good, let me know and i'll run the script on production (Greg Baker - Feb 14, 2014)","Just found a title where the ""description"" is incorrect... appears that there are html escape issue... this is it: 9788702108552 (Eldon de Waal - Feb 17, 2014)","Also for that title, there is no language provided in the feed. The title's status should be incomplete and not awaiting approval (Eldon de Waal - Feb 17, 2014)","Lastly (I hope), the sample URL is not being populated... (Eldon de Waal - Feb 17, 2014)",,,,,,,,,,,,,,,,,,,,,,,,reimport all data,not completed
72248020,I  want Font sales to have a promotion applied so that subscribers are discounted,publisher experience,47,"Jul 6, 2014","Jul 12, 2014",feature,2,delivered,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72248020,Greg Baker,,
72248204,I want the word 'subscription' to be used instead of 'checkout' so that terminology is standardized,"publisher, publisher experience",47,"Jul 6, 2014","Jul 12, 2014",feature,0,delivered,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72248204,Simon van Dyk,,,"On staging. Waiting for another issue to be resolved before deploying to production. (Simon van Dyk - Jun 2, 2014)"
72248256,"I only want to see 'title', 'price' under transactions tab so that the UI is cleaner","publisher, publisher experience",47,"Jul 6, 2014","Jul 12, 2014",feature,1,delivered,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72248256,Greg Baker,,,"We've cleaned this up as much as possible in line with the other tickets for this screen. So there is a bit more info than this ticket requests, but we've made it as clear and simple as we comfortably can. Let us know if there anything else that can reasonably be removed. (Greg Baker - Jun 6, 2014)","Anders is not 100% sure what poly under promotions means. Is this some abbreviated name for it?

 (Alex Veldtman - Jun 6, 2014)","If you click on the 'Promotions' tab, you'll get a list of all the promotions on the system. They all have a name in the first column. 'Poly' refers to this name attribute of the promotions. (Greg Baker - Jun 9, 2014)"
72248358,I want additional information under transactions so that the UI conveys more data to me,"publisher, publisher experience",47,"Jul 6, 2014","Jul 12, 2014",feature,2,delivered,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72248358,Simon van Dyk,Greg Baker,,"Thoughts:

* Remove ID from publisher view to make space
 (Simon van Dyk - Jun 5, 2014)","Deployed to staging (Simon van Dyk - Jun 6, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,Differentiate between single copy sales and subscriptions,completed,Is the book currently being read? ,completed,"When reading threshold is reached, the cost of sale should change from 0 to the price and a green tick should appear",completed,Books that are returned before reading threshold is reached to not need to appear,completed,"If the book is part of a promotion, we need to see this along with the details",completed
72435372,I want my positions within my ebooks to be synced between my devices so that i can open a book on any of my devices and be on the expected page.,subscriber,47,"Jul 6, 2014","Jul 12, 2014",feature,2,delivered,"Jun 2, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72435372,Greg Baker,,,"The MDS side is complete. Still need the mobile apps to add logic for this. (Greg Baker - Jun 9, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,Expose an endpoint to receive bookmarks,completed,Expose an endpoint to return a bookmark for a checkout,completed
73370486,pagination not correctly applied to the transactions table,"",47,"Jul 6, 2014","Jul 12, 2014",bug,,delivered,"Jun 17, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/73370486,Greg Baker,,
73801510,I want a consistent publisher experience of working functionality,"",47,"Jul 6, 2014","Jul 12, 2014",feature,2,delivered,"Jun 24, 2014",,,Simon van Dyk,"Broken MDS notes
- Original publication date and release date fields be moved away from “genres”
- Under Review check box ??? Hide if new model?
- Link to remove instead of icon
- Add imprint repopulated as publisher name
- Hide “edit” publication button
- Hide “history”
- Calculate Cost Price FEATURE
- Remove Cost Price & Countries columns
- Genre’s added after submitting the form break’s the styling",https://www.pivotaltracker.com/story/show/73801510,Simon van Dyk,,
74371122,I want to see a list of retail and cost prices that have been configured for this publication so that I know what it will be sold for and how much I will receive per sale.,publisher looks at a publication,47,"Jul 6, 2014","Jul 12, 2014",feature,2,delivered,"Jul 3, 2014",,,Greg Baker,"I want a list of PPI's. One item per currency with the sales price, cost price shown as well as the countries that the PPI will be valid for.",https://www.pivotaltracker.com/story/show/74371122,Greg Baker,,
74512330,"I want to be able to checkout 2 books from a premium subscription, so that i do not have such a harsh limit on what books i can simultaneously read",subscriber checks out a book,47,"Jul 6, 2014","Jul 12, 2014",feature,1,delivered,"Jul 7, 2014",,,Anders,,https://www.pivotaltracker.com/story/show/74512330,Greg Baker,,
72247690,I want 'Save as a report' to be a more user-friendly experience,"publisher, publisher experience",47,"Jul 6, 2014","Jul 12, 2014",feature,1,finished,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72247690,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Where is the report? (it's now in the reports tab),completed,I want to be able to access my reports from transactions (without saving a new report),completed
72346190,I want to be able to update ebooks and audiobooks so that I can alter their attributes/rules,publisher,47,"Jul 6, 2014","Jul 12, 2014",feature,2,started,"May 30, 2014",,,Simon van Dyk,,https://www.pivotaltracker.com/story/show/72346190,Simon van Dyk,,
68163150,Setup Pirat FTP for ELIB to send us their files,"",47,"Jul 6, 2014","Jul 12, 2014",chore,,started,"Mar 24, 2014",,,Eldon de Waal,Lasse has spoken with Elib to handle the upload of ebooks and audiobooks to us. I think it is Py at Elib or something that you need to contact so we can get the process going.,https://www.pivotaltracker.com/story/show/68163150,Eldon de Waal,,
73532536,I want the MDS to have a new and improved look so that it is more appealing,"",47,"Jul 6, 2014","Jul 12, 2014",feature,5,started,"Jun 19, 2014",,,Simon van Dyk,Ticket for notes so Marié can make changes in batches to the project.,https://www.pivotaltracker.com/story/show/73532536,Greg Baker,Simon van Dyk,Marie Beetge,"Hey Marié 

Awesome job! Thanks for getting this out so fast.

On this page: http://development.mogulview.com/admin/ebooks?q[company_id_eq]=573
It seems that the 'Status' column is really squashed.  The next column is 'Company' and the text between these two columns reads 'PublishedPubHub' instead of 'Published' and 'PubHub'.

Thanks!
 (Greg Baker - Jun 19, 2014)","Great stuff Marie (Anders - Jun 19, 2014)","Thanks guys! Greg I'll check this out now. I think I might have fixed this already :) (Marie Beetge - Jun 20, 2014)","Hey Marie, Alex says thank you very much for the design it looks great.
 (Simon van Dyk - Jun 20, 2014)","Also, we’re seeing that the server is failing to find an svg (I can’t find it in the project either) can you check that the image that modules/_form.css.sass actually exists? (Simon van Dyk - Jun 20, 2014)","@simonvandyk I added that in! (Marie Beetge - Jun 20, 2014)","Thanks!
 (Simon van Dyk - Jun 20, 2014)",,,,,,,,,,,,,,,,,,,,,It seems that the 'Status' column is really squashed. The next column is 'Company' and the text between these two columns reads 'PublishedPubHub' instead of 'Published' and 'PubHub'.,completed,missing svg,completed
74373034,I want to see a table that summarizes all the PPI's for a specific publisher so that I can see if the data is healthy. ,admin looks at a publisher,47,"Jul 6, 2014","Jul 12, 2014",feature,2,finished,"Jul 3, 2014",,,Greg Baker,"Table rows - Wholesale, Agency
table columns - currencies that exist in the PPI's 

the count is in the cells

In the heading (PPI stats for #{publication count})",https://www.pivotaltracker.com/story/show/74373034,Greg Baker,,
74373164,"I want to see VAT, currency, margin",admin looks at a publisher,47,"Jul 6, 2014","Jul 12, 2014",feature,1,finished,"Jul 3, 2014",,,Greg Baker,margin = 100 - terms,https://www.pivotaltracker.com/story/show/74373164,Greg Baker,,
74372778,"I should not be able to enter zero ""margin"" values for audiobooks, epubs, VAT etc for the pricing models that are enabled so division or multiplication by zero does not happen",admin edits publisher,47,"Jul 6, 2014","Jul 12, 2014",feature,1,finished,"Jul 3, 2014",,,Greg Baker,Will make trouble shooting much easier,https://www.pivotaltracker.com/story/show/74372778,Greg Baker,,
74372686,I want to tick options to disable and/or enable wholesale and agency pricing models for a publisher so that if a model is disabled the publisher will not create price instances for it.,admin edits publisher,47,"Jul 6, 2014","Jul 12, 2014",feature,1,finished,"Jul 3, 2014",,,Greg Baker,added a boolean value to allow wholesale model. i think agency can be the default as most publishers are using it.,https://www.pivotaltracker.com/story/show/74372686,Greg Baker,,
72434956,I want to be able to download audiobooks that are manually imported,subscriber,48,"Jul 13, 2014","Jul 19, 2014",chore,,unstarted,"Jun 2, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72434956,Greg Baker,,
72247466,I want to be able to export a CSV report so that I can see my sales details,"publisher, publisher experience",48,"Jul 13, 2014","Jul 19, 2014",feature,2,unstarted,"May 29, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/72247466,,,
72335002,Telanor dependencies,"",48,"Jul 13, 2014","Jul 19, 2014",release,,unstarted,"May 30, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/72335002,,,
72335020,Telanor launch,"",48,"Jul 13, 2014","Jul 19, 2014",release,,unstarted,"May 30, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/72335020,,,
67014430,I want to search with the logical operator 'OR' so that my search criteria will return more than one publication,"admin, enhanced search",50,"Jul 27, 2014","Aug 2, 2014",feature,3,unstarted,"Mar 6, 2014",,,Eldon de Waal,As per the attached instructions,https://www.pivotaltracker.com/story/show/67014430,Alex Veldtman,Greg Baker,," (Eldon de Waal - Mar 6, 2014)"
71924762,I want to search with multi-select boxes so that I can search multiple criteria for each publication attribute,"admin, enhanced search",51,"Aug 3, 2014","Aug 9, 2014",feature,3,unstarted,"May 23, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/71924762,,,
71924124,I want to edit a saved search so that I don’t have to save a new one that is just slightly modified,admin,53,"Aug 17, 2014","Aug 23, 2014",feature,3,unstarted,"May 23, 2014",,,Eldon de Waal,Saved searches can only have their name attribute edited. All attributes need to be editable.,https://www.pivotaltracker.com/story/show/71924124,Greg Baker,Simon van Dyk,
70923976,Import audiobooks from ELIB,"",53,"Aug 17, 2014","Aug 23, 2014",chore,,unstarted,"May 8, 2014",,,Eldon de Waal,,https://www.pivotaltracker.com/story/show/70923976,Greg Baker,,
65892890,I want to see who a publication editor was,everybody,54,"Aug 24, 2014","Aug 30, 2014",feature,2,unstarted,"Feb 17, 2014",,,Eldon de Waal,"Map Contributor role code B01
B01 =  ""Edited by""
rerun, epubdirect and random house feeds",https://www.pivotaltracker.com/story/show/65892890,Greg Baker,,
70155060,I do not want to see company regions otherwise I can see sensitive information about other companies,publisher,54,"Aug 24, 2014","Aug 30, 2014",feature,1,unstarted,"Apr 25, 2014",,,Eldon de Waal,"Remove access to http://mds.mogulview.com/admin/companies/26/regions and the menu item ""Regions""",https://www.pivotaltracker.com/story/show/70155060,Greg Baker,,
68351128,I want checkouts to be automatically checked in so that I don’t have to do it manually,subscriber,55,"Aug 31, 2014","Sep 6, 2014",feature,2,unstarted,"Mar 27, 2014",,,Eldon de Waal,"Automatically Check In any book that is still Borrowed at the end of the month following the month in which the book was first Borrowed.

This should be a rake task that runs each day. Search for subscriptions renewing each day and then Return each title that was borrowed in the previous subscription period month.

What this means is that a User who Borrows a title on the first day of the subscription month has until the end of the following subscription month to complete reading it i.e. 8 weeks approx. After that the book is automatically returned (unless he returns it before). 
For a User who Borrows a title on the last day of his subscription month, he has 1 month and the remaining time in that day to complete reading it.",https://www.pivotaltracker.com/story/show/68351128,Greg Baker,,
65454176,I want to see details of my subscriptions so I can manage them,subscriber,56,"Sep 7, 2014","Sep 13, 2014",feature,1,unstarted,"Feb 10, 2014",,,Eldon de Waal,"As a User on the mobile client, I wish to see my subscription/s status, dates, limits etc.",https://www.pivotaltracker.com/story/show/65454176,Greg Baker,,
71829232,System is stable and up to date: ready for new integrations,"",56,"Sep 7, 2014","Sep 13, 2014",release,,unstarted,"May 22, 2014",,,Eldon de Waal,,https://www.pivotaltracker.com/story/show/71829232,,,
62372520,Promotions - For subscription - Add in Saved search as an attribute of the promotion,functionality,58,"Sep 21, 2014","Sep 27, 2014",feature,5,unstarted,"Dec 12, 2013",,,Eldon de Waal,"I need to be able to specify the saved search of titles within the relevant subscription for which the promotion applies.

=== Instructions for Subscriptions context ===
Insert attribute: Multiple select for saved search

=== Additional instructions ===
If as admin I set the start date of the promotion in the past, then re-process the existing transactions which match the criteria of the promotion. This will ensure that we can quickly fix the affected transactions.
",https://www.pivotaltracker.com/story/show/62372520,Greg Baker,,,"Need to have a discussion about how this will work. (Greg Baker - Dec 18, 2013)"
64994776,I want publication files tab to load faster so that I don’t have to wait for it to load unnecessarily ,"admin, optimization",59,"Sep 28, 2014","Oct 4, 2014",feature,2,unstarted,"Feb 3, 2014",,,Alex Veldtman,improve edit metadata page load on files tab by loading ftp contents on demand only ,https://www.pivotaltracker.com/story/show/64994776,,,
71391344,I want to see user activities by device so that I can investigate user activity easily,admin,62,"Oct 19, 2014","Oct 25, 2014",feature,5,unstarted,"May 15, 2014",,,Alex Veldtman,"as an admin I want to go to a user and see as summary of their subscriptions, library checkouts , downloads (on a per device level)  ",https://www.pivotaltracker.com/story/show/71391344,,,
64990284,Provide Penguin integration documentation,penguin integration,62,"Oct 19, 2014","Oct 25, 2014",chore,,unstarted,"Feb 3, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/64990284,Eldon de Waal,,
64995218,Validate non-remote epubs so that subscribers do not receive invalid epubs,"",64,"Nov 2, 2014","Nov 8, 2014",feature,5,unstarted,"Feb 3, 2014",,,Eldon de Waal,"On upload of an epub file, ensure that the file passes epubCheck validation. If fail do not attach the file and display the validation results.

only non-remote publications

https://github.com/IDPF/epubcheck/releases
",https://www.pivotaltracker.com/story/show/64995218,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rake task to validate existing files,not completed,validate new uploads,not completed
74511800,I want to click on a specific ppi group in the table and see only the publications for that group,admin looks at a publisher,,,,feature,,unscheduled,"Jul 7, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/74511800,,,
74508056,I want to filter by model so that I can find books that have been priced to a specific model,publisher looks at list of publications,,,,feature,,unscheduled,"Jul 7, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/74508056,,,
74373068,Upgrade Rails to 3.2.19,"",,,,chore,,unscheduled,"Jul 3, 2014",,,Simon van Dyk,http://weblog.rubyonrails.org/2014/7/2/Rails_3_2_19_4_0_7_and_4_1_3_have_been_released/,https://www.pivotaltracker.com/story/show/74373068,,,
74372598,I should only be able to create pricing instances for the sales model that has been enabled for me by eREADZ so that I don't make mistakes.,publisher edits a publication,,,,feature,,unscheduled,"Jul 3, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/74372598,,,
74372570,I want to add and edit product price instances so that I can sell the book in different currencies.,publisher edits a publication,,,,feature,,unscheduled,"Jul 3, 2014",,,Greg Baker,"The current interface only allows 1 PPI and switching from wholesale to agency does not save. 

Need the following fields: cost price, sales price, model, currency, countries (multi-select with default 'World')

If you specify 'agency' you cannot enter the cost price. If you specify 'wholesale' you cannot enter the sales price.",https://www.pivotaltracker.com/story/show/74372570,,,
73714826,New publication by onix file upload,publisher experience,,,,feature,,unscheduled,"Jun 23, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/73714826,Greg Baker,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,unhide button in publications/new,not completed,test current functionality,not completed
72760024,Saved search query results not matching the criteria specified,"",,,,bug,,unscheduled,"Jun 6, 2014",,,Eldon de Waal,"This means that titles of the wrong language are appearing in a subscription.
This is the saved search in question: http://mds.mogulview.com/admin/searches/14/edit

Please can you identify how English and Finnish titles are appearing in the result set? Given that the query is filtering only on the ""by Subscription"" Norsk Premium which itself only has Norwegian titles.",https://www.pivotaltracker.com/story/show/72760024,Greg Baker,,
71932698,Update EPUB server encryption to AES256,ereadz drm,,,,feature,,unscheduled,"May 23, 2014",,,Eldon de Waal,,https://www.pivotaltracker.com/story/show/71932698,Eldon de Waal,,
64997094,I want to send a push notification by submitting user ids to the the GCM service,"mds admin sends push notifications, notifications",,,,feature,5,unscheduled,"Feb 3, 2014",,,Alex Veldtman,Documentation is here:  https://sites.google.com/site/emviemwiki/mds/push-notifications/business-logic-specification,https://www.pivotaltracker.com/story/show/64997094,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,message payload,not completed,Ramone to provide format ,not completed
64997522,Call to action for expiring subscription,"mds admin sends push notifications, notifications",,,,feature,2,unscheduled,"Feb 3, 2014",,,Alex Veldtman,"see who's subscription is expiring within the next five days and send pre-programmed message
",https://www.pivotaltracker.com/story/show/64997522,,,
64992524,basic push notifications functionality added,"",,,,release,,unscheduled,"Feb 3, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64992524,,,
64212830,Auto subscribe new Users to Classic Reads subscription,functionality,,,,feature,1,unscheduled,"Jan 21, 2014",,,Eldon de Waal,"
",https://www.pivotaltracker.com/story/show/64212830,Greg Baker,,,"This task no longer needed (Anders - Apr 7, 2014)",,,,,,,,,,,,,,,,,,,,,,,,,,,auto subscribe existing users for 5 years,not completed
65970238,Upgrade rails 3.2.x to rails 4.x,"",,,,feature,,unscheduled,"Feb 18, 2014",,,Simon van Dyk,,https://www.pivotaltracker.com/story/show/65970238,,,
62774852,Get Previews,api2,,,,feature,3,unscheduled,"Dec 19, 2013",,,Ramone,https://sites.google.com/site/emviemwiki/mds/api2/endpoints/subscription/get-previews,https://www.pivotaltracker.com/story/show/62774852,Shaun Richards,,
70751736,Set up mailer on 176.9.70.209,mds upgrade testing,,,,feature,,unscheduled,"May 6, 2014",,,Greg Baker,,https://www.pivotaltracker.com/story/show/70751736,,,
66399360,*As an admin I want to* send a once off push notification *in order to* delivers news in the form of a push notification,mds admin sends push notifications,,,,feature,,unscheduled,"Feb 25, 2014",,,Simon van Dyk,,https://www.pivotaltracker.com/story/show/66399360,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Form to create a notification message,not completed,Form to create the trigger (simple once off trigger),not completed,Form to create the encapsulating “scenario”,not completed,Be able to send the notification message,not completed
64996842,I want to do a basic segmentation of users by creating a saved user search,mds admin sends push notifications,,,,feature,,unscheduled,"Feb 3, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64996842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,model number,not completed,registration window,not completed,filter by subscription (multiple) ,not completed,device language,not completed,not subscribed to subscription (multiple),not completed,and or,not completed
64997370,I want to send a list of suggested books to subscribers who have read a specific book?,mds admin sends push notifications,,,,feature,,unscheduled,"Feb 3, 2014",,,Alex Veldtman,,https://www.pivotaltracker.com/story/show/64997370,,,
66421040,Dashboard and reporting interface,"",,,,feature,,unscheduled,"Feb 25, 2014",,,Eldon de Waal,As per the attached wirefares,https://www.pivotaltracker.com/story/show/66421040,,,," (Eldon de Waal - Feb 25, 2014)"
61280908,Localise the visible watermark,functionality,,,,feature,,unscheduled,"Nov 22, 2013",,,Eldon de Waal,,https://www.pivotaltracker.com/story/show/61280908,,,
65190406,"As a User, MyLibrary needs to come from the MDS vs Magento",planning,,,,feature,,unscheduled,"Feb 5, 2014",,,Eldon de Waal,"Moving MyLibrary will require a detailed discussion and co-ordination between all our developers. This requires a planning session and associated task list. Broadly, the following is required:
1. Sync all Users between Magento and the MDS
2. Sync all products that have MyLib records but do not exist in the MDS
3. Export the non-MDS download links to the MDS
4. Create the relevant api/s in the MDS for the clients to connect to
5. Go-live co-ordination",https://www.pivotaltracker.com/story/show/65190406,,,
61718080,Display Reading Progress against the Subscriber Checkout history record/s,functionality,,,,feature,,unscheduled,"Dec 2, 2013",,,Eldon de Waal,,https://www.pivotaltracker.com/story/show/61718080,Greg Baker,,
